document.addEventListener("click",e=>document.querySelectorAll("details").forEach(t=>t.contains(e.target)?"":t.removeAttribute("open")));class Color{red=0;green=0;blue=0;alpha=0;constructor(e,t,s,i){this.red=e,this.green=t,this.blue=s,this.alpha=i}gray(){let e=parseInt(.21*this.red+.71*this.green+.08*this.blue);return new Color(e,e,e,this.alpha)}negative(){return new Color(255-this.red,255-this.green,255-this.blue,this.alpha)}lighted(e){return new Color(parseInt((255-this.red)*e+this.red),parseInt((255-this.green)*e+this.green),parseInt((255-this.blue)*e+this.blue),this.alpha)}darkened(e){return e=1-e,new Color(parseInt(e*this.red),parseInt(e*this.green),parseInt(e*this.blue),this.alpha)}getRGB(){return this.red<<16|this.green<<8|this.blue}getRGBA(){return this.red<<24|this.green<<16|this.blue<<8|this.alpha}getARGB(){return this.alpha<<24|this.red<<16|this.green<<8|this.blue}getRGB_HEX(){return"#"+new Number(this.red).toString(16).padStart(2,"0")+new Number(this.green).toString(16).padStart(2,"0")+new Number(this.blue).toString(16).padStart(2,"0")}getRGB_String(){return"rgb("+this.red+", "+this.green+", "+this.blue+")"}getRGBA_HEX(){return"#"+new Number(this.red).toString(16).padStart(2,"0")+new Number(this.green).toString(16).padStart(2,"0")+new Number(this.blue).toString(16).padStart(2,"0")+new Number(this.alpha).toString(16).padStart(2,"0")}getRGBA_String(){return"rgba("+this.red+", "+this.green+", "+this.blue+", "+this.alpha/255+")"}getARGB_HEX(){return"#"+new Number(this.alpha).toString(16).padStart(2,"0")+new Number(this.red).toString(16).padStart(2,"0")+new Number(this.green).toString(16).padStart(2,"0")+new Number(this.blue).toString(16).padStart(2,"0")}getRGB_Components(){return[this.red,this.green,this.blue]}getRGBA_Components(){return[this.red,this.green,this.blue,this.alpha]}getARGB_Components(){return[this.alpha,this.red,this.green,this.blue]}static fromRGB(e){return new Color(e>>>16&255,e>>>8&255,255&e,255)}static fromRGBA(e){return new Color(e>>>24&255,e>>>16&255,e>>>8&255,255&e)}static fromARGB(e){return new Color(e>>>16&255,e>>>8&255,255&e,e>>>24&255)}static fromRGB_HEX(e){let t=RegExp("^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$","i").exec(e);return new Color(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),255)}static fromRGBA_HEX(e){let t=RegExp("^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$","i").exec(e);return new Color(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),parseInt(t[4],16))}static fromARGB_HEX(e){let t=RegExp("^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$","i").exec(e);return new Color(parseInt(t[2],16),parseInt(t[3],16),parseInt(t[4],16),parseInt(t[1],16))}static HSLtoRGB(e,t){let s=e[0],i=e[1],n=e[2];if(i>0){s=s<1?6*s:0;let r=n+i*(n>.5?1-n:n),a=2*n-r;t[0]=parseInt(255*Color.normalize(r,a,s<4?s+2:s-4)),t[1]=parseInt(255*Color.normalize(r,a,s)),t[2]=parseInt(255*Color.normalize(r,a,s<2?s+4:s-2))}else t[0]=parseInt(255*n),t[1]=parseInt(255*n),t[2]=parseInt(255*n)}static normalize(e,t,s){return s<1?t+(e-t)*s:s<3?e:s<4?t+(e-t)*(4-s):t}static RGBtoHSL(e,t){let s=Math.max(e[0],e[1],e[2])/255,i=Math.min(e[0],e[1],e[2])/255,n=s+i,r=s-i;r>0&&(r/=n>1?2-n:n),t[0]=Color.getHue(e[0]/255,e[1]/255,e[2]/255,s,i),t[1]=r,t[2]=n/2}static HSVtoRGB(e,t){let s=e[0],i=e[1],n=e[2];if(t[0]=parseInt(255*n),t[1]=parseInt(255*n),t[2]=parseInt(255*n),i>0){let r=parseInt(s=s<1?6*s:0),a=s-r;switch(r){case 0:t[1]=parseInt(255*n*(1-i*(1-a))),t[2]=parseInt(255*n*(1-i));break;case 1:t[0]=parseInt(255*n*(1-i*a)),t[2]=parseInt(255*n*(1-i));break;case 2:t[0]=parseInt(255*n*(1-i)),t[2]=parseInt(255*n*(1-i*(1-a)));break;case 3:t[0]=parseInt(255*n*(1-i)),t[1]=parseInt(255*n*(1-i*a));break;case 4:t[0]=parseInt(255*n*(1-i*(1-a))),t[1]=parseInt(255*n*(1-i));break;case 5:t[1]=parseInt(255*n*(1-i)),t[2]=parseInt(255*n*(1-i*a))}}}static RGBtoHSV(e,t){let s=Math.max(e[0],e[1],e[2])/255,i=Math.min(e[0],e[1],e[2])/255,n=s-i;n>0&&(n/=s),t[0]=Color.getHue(e[0]/255,e[1]/255,e[2]/255,s,i),t[1]=n,t[2]=s}static getHue(e,t,s,i,n){let r=i-n;return r>0&&(i===e?(r=(t-s)/r)<0&&(r+=6):r=i===t?2+(s-e)/r:4+(e-t)/r,r/=6),r}static CMYKtoRGB(e,t){let s=e[0]/255,i=e[1]/255,n=e[2]/255,r=e[3]/255;t[0]=parseInt(255*(1-s)*(1-r)),t[1]=parseInt(255*(1-i)*(1-r)),t[2]=parseInt(255*(1-n)*(1-r))}static RGBtoCMYK(e,t){let s=e[0]/255,i=e[1]/255,n=e[2]/255,r=1-Math.max(s,i,n);1===r?(t[0]=0,t[1]=0,t[2]=0):(t[0]=parseInt(255*(1-s-r)/(1-r)),t[1]=parseInt(255*(1-i-r)/(1-r)),t[2]=parseInt(255*(1-n-r)/(1-r))),t[3]=parseInt(255*r)}}class Dimension{width=0;height=0;constructor(e,t){this.width=e,this.height=t}}class ActionEvent{}class ActionListener{actionPerformed(e){}}class WindowClosedListener{windowClosed(e){}}class WindowEvent{}class GridBagConstraints{static RELATIVE=-1;static REMAINDER=0;static NONE=0;static BOTH=1;static HORIZONTAL=2;static VERTICAL=3;static CENTER=10;static NORTH=11;static NORTHEAST=12;static EAST=13;static SOUTHEAST=14;static SOUTH=15;static SOUTHWEST=16;static WEST=17;static NORTHWEST=18;static PAGE_START=19;static PAGE_END=20;static LINE_START=21;static LINE_END=22;static FIRST_LINE_START=23;static FIRST_LINE_END=24;static LAST_LINE_START=25;static LAST_LINE_END=26;static BASELINE=256;static BASELINE_LEADING=512;static BASELINE_TRAILING=768;static ABOVE_BASELINE=1024;static ABOVE_BASELINE_LEADING=1280;static ABOVE_BASELINE_TRAILING=1536;static BELOW_BASELINE=1792;static BELOW_BASELINE_LEADING=2048;static BELOW_BASELINE_TRAILING=2304;gridx=0;gridy=0;gridwidth=0;gridheight=0;weightx=0;weighty=0;anchor=0;fill=0;insets=null;ipadx=0;ipady=0;constructor(){this.gridx=GridBagConstraints.RELATIVE,this.gridy=GridBagConstraints.RELATIVE,this.gridwidth=1,this.gridheight=1,this.weightx=0,this.weighty=0,this.anchor=GridBagConstraints.CENTER,this.fill=GridBagConstraints.NONE,this.insets=new Insets(0,0,0,0),this.ipadx=0,this.ipady=0}get(e){switch(e){case"gridx":return this.gridx;case"gridy":return this.gridy;case"gridwidth":return this.gridwidth;case"gridheight":return this.gridheight;case"weightx":return this.weightx;case"weighty":return this.weighty;case"anchor":return this.anchor;case"fill":return this.fill;case"ipadx":return this.ipadx;case"ipady":return this.ipady;default:return 0}}}class Insets{top=0;left=0;bottom=0;right=0;constructor(e,t,s,i){this.top=e,this.left=t,this.bottom=s,this.right=i}}class LayoutManager{setPanel(e){}resetPanel(e){}addInPanel(e,t,s){}}class BorderLayout extends LayoutManager{static NORTH="North";static SOUTH="South";static EAST="East";static WEST="West";static CENTER="Center";static BEFORE_FIRST_LINE=BorderLayout.NORTH;static AFTER_LAST_LINE=BorderLayout.SOUTH;static BEFORE_LINE_BEGINS=BorderLayout.WEST;static AFTER_LINE_ENDS=BorderLayout.EAST;static PAGE_START=BorderLayout.BEFORE_FIRST_LINE;static PAGE_END=BorderLayout.AFTER_LAST_LINE;static LINE_START=BorderLayout.BEFORE_LINE_BEGINS;static LINE_END=BorderLayout.AFTER_LINE_ENDS;hGap=0;vGap=0;constructor(e,t){super(),this.hGap=void 0===e?0:e,this.vGap=void 0===t?0:t}setPanel(e){e.cssAddClass("borderlayout"),e.getStyle().setProperty("gap",this.vGap+"px "+this.hGap+"px")}resetPanel(e){e.clearContent(),e.cssRemoveClass("borderlayout")}addInPanel(e,t,s){e.appendChild(t),t.cssAddClass(s.toLowerCase()),t.getStyle().setProperty("grid-area",s.toLowerCase())}}class BoxLayout extends LayoutManager{static X_AXIS=0;static Y_AXIS=1;static LINE_AXIS=2;static PAGE_AXIS=3;axis=0;constructor(e,t){super(),this.axis=t}setPanel(e){switch(e.cssAddClass("boxlayout"),this.axis){case BoxLayout.LINE_AXIS:case BoxLayout.X_AXIS:e.getStyle().flexDirection="row",e.getStyle().alignItems="center";break;case BoxLayout.PAGE_AXIS:case BoxLayout.Y_AXIS:e.getStyle().flexDirection="column",e.getStyle().alignItems="flex-start"}}resetPanel(e){e.clearContent(),e.cssRemoveClass("boxlayout"),e.getStyle().flexDirection="",e.getStyle().alignItems=""}addInPanel(e,t,s){e.appendChild(t)}}class CardLayout extends LayoutManager{hGap=0;vGap=0;constructor(e,t){super(),this.hGap=void 0===e?0:e,this.vGap=void 0===t?0:t}setPanel(e){e.cssAddClass("cardlayout")}resetPanel(e){e.clearContent(),e.cssRemoveClass("cardlayout")}addInPanel(e,t,s){e.appendChild(t),t.setAttribute("card",s),t.setAttribute("old-display",t.getStyle().display),e.getChildCount()>1&&(t.getStyle().display="none"),t.getStyle().flexGrow="1",t.getStyle().margin=this.vGap+"px "+this.hGap+"px"}show(e,t){for(let s=0;s<e.getChildCount();s++)e.getChilStyleByIndex(s).display="none";e.getChilStyleByQuery("[card="+t+"]").display=e.getChildAttributeByQuery("[card="+t+"]","old-display")}}class FlowLayout extends LayoutManager{static LEFT=0;static CENTER=1;static RIGHT=2;static LEADING=3;static TRAILING=4;align=0;hGap=0;vGap=0;constructor(e,t,s){super(),this.align=e,this.hGap=void 0===t?5:t,this.vGap=void 0===s?5:s}setPanel(e){switch(e.cssAddClass("flowlayout"),this.align){case FlowLayout.LEFT:case FlowLayout.LEADING:e.getStyle().justifyContent="flex-start";break;case FlowLayout.CENTER:e.getStyle().justifyContent="center";break;case FlowLayout.RIGHT:case FlowLayout.TRAILING:e.getStyle().justifyContent="flex-end"}}resetPanel(e){e.clearContent(),e.cssRemoveClass("flowlayout"),e.getStyle().justifyContent=""}addInPanel(e,t,s){e.appendChild(t),t.getStyle().margin=this.vGap+"px "+this.hGap+"px"}}class GridBagLayout extends LayoutManager{columnWidths=null;rowHeights=null;gridTemplateAreas=[];constraintsArray=[];position=1;constructor(){super()}setPanel(e){e.cssAddClass("gridbaglayout")}resetPanel(e){e.clearContent(),e.cssRemoveClass("gridbaglayout"),e.getStyle().removeProperty("grid-template"),e.getStyle().removeProperty("grid-template-areas"),e.getStyle().removeProperty("grid-template-rows"),e.getStyle().removeProperty("grid-template-columns")}addInPanel(e,t,s){this.constraintsArray.push(s),e.appendChild(t),e.getStyle().setProperty("grid-template-areas",this.setGridTemplateAreas(s)),e.getStyle().setProperty("grid-template-rows",this.getWeight(this.gridTemplateAreas,"gridy","gridheight","weighty",this.rowHeights)),e.getStyle().setProperty("grid-template-columns",this.gridTemplateAreas.length>0?this.getWeight(this.gridTemplateAreas[0],"gridx","gridwidth","weightx",this.columnWidths):""),this.setComponent(t,s)}setGridTemplateAreas(e){for(let t=this.gridTemplateAreas.length;t<e.gridy+e.gridheight;t++)this.gridTemplateAreas.push([]);let s=0;for(let i=0;i<this.gridTemplateAreas.length;i++)s=Math.max(s,this.gridTemplateAreas[i].length);for(let n=0;n<this.gridTemplateAreas.length;n++)for(let r=this.gridTemplateAreas[n].length;r<Math.max(s,e.gridx+e.gridwidth);r++)this.gridTemplateAreas[n].push(".");for(let a=e.gridy;a<e.gridy+e.gridheight;a++){let l=this.gridTemplateAreas[a];for(let o=e.gridx;o<e.gridx+e.gridwidth;o++)l[o]="p"+this.position}let h="";for(let d=0;d<this.gridTemplateAreas.length;d++){let S="";for(let c=0;c<this.gridTemplateAreas[d].length;c++)S+=this.gridTemplateAreas[d][c]+" ";h+='"'+S+'"\n'}return h}getWeight(e,t,s,i,n){let r=[];for(let a=0;a<e.length;a++)r.push(0);for(let l=1;l<=e.length;l++){let o=l;this.constraintsArray.filter(e=>e.get(s)===o).forEach(e=>{let n=!1;for(let a=e.get(t);a<e.get(t)+e.get(s);a++)n|=r[a]>=e.get(i);n||(r[e.get(t)+e.get(s)-1]=e.get(i))})}let h="";for(let d=0;d<r.length;d++)n&&n[d]?h+=n[d]+"px ":h+=0===r[d]?"auto ":r[d]+"fr ";return h}setComponent(e,t){switch(e.getStyle().setProperty("grid-area","p"+this.position),this.position++,t.anchor){case GridBagConstraints.CENTER:case GridBagConstraints.BASELINE:case GridBagConstraints.ABOVE_BASELINE:case GridBagConstraints.BELOW_BASELINE:e.getStyle().setProperty("place-self","center center");break;case GridBagConstraints.NORTH:case GridBagConstraints.PAGE_START:e.getStyle().setProperty("place-self","start center");break;case GridBagConstraints.NORTHEAST:case GridBagConstraints.FIRST_LINE_END:e.getStyle().setProperty("place-self","start end");break;case GridBagConstraints.EAST:case GridBagConstraints.LINE_END:case GridBagConstraints.BASELINE_TRAILING:case GridBagConstraints.ABOVE_BASELINE_TRAILING:case GridBagConstraints.BELOW_BASELINE_TRAILING:e.getStyle().setProperty("place-self","center end");break;case GridBagConstraints.SOUTHEAST:case GridBagConstraints.LAST_LINE_END:e.getStyle().setProperty("place-self","end end");break;case GridBagConstraints.SOUTH:case GridBagConstraints.PAGE_END:e.getStyle().setProperty("place-self","end center");break;case GridBagConstraints.SOUTHWEST:case GridBagConstraints.LAST_LINE_START:e.getStyle().setProperty("place-self","end start");break;case GridBagConstraints.WEST:case GridBagConstraints.LINE_START:case GridBagConstraints.BASELINE_LEADING:case GridBagConstraints.ABOVE_BASELINE_LEADING:case GridBagConstraints.BELOW_BASELINE_LEADING:e.getStyle().setProperty("place-self","center start");break;case GridBagConstraints.NORTHWEST:case GridBagConstraints.FIRST_LINE_START:e.getStyle().setProperty("place-self","start start")}switch(t.fill){case GridBagConstraints.NONE:break;case GridBagConstraints.BOTH:e.getStyle().setProperty("place-self","stretch stretch");break;case GridBagConstraints.HORIZONTAL:e.getStyle().setProperty("justify-self","stretch");break;case GridBagConstraints.VERTICAL:e.getStyle().setProperty("place-self","stretch")}e.getStyle().margin=t.insets.top+"px "+t.insets.right+"px "+t.insets.bottom+"px "+t.insets.left+"px",e.getStyle().padding=t.ipady+"px "+t.ipadx+"px"}}class GridLayout extends LayoutManager{rows=0;cols=0;hGap=0;vGap=0;constructor(e,t,s,i){super(),this.rows=e,this.cols=t,this.hGap=void 0===s?0:s,this.vGap=void 0===i?0:i}setPanel(e){e.cssAddClass("gridlayout");let t="";for(let s=1;s<=this.rows;s++){let i="";for(let n=1;n<=this.cols;n++)i+="p"+((s-1)*this.cols+n)+" ";t+='"'+i+'" 1fr\n'}t+="/";for(let r=1;r<=this.cols;r++)t+=" 1fr";e.getStyle().setProperty("grid-template",t),e.getStyle().setProperty("gap",this.vGap+"px "+this.hGap+"px")}resetPanel(e){e.clearContent(),e.cssRemoveClass("gridlayout"),e.getStyle().removeProperty("grid-template"),e.getStyle().removeProperty("gap")}addInPanel(e,t,s){e.appendChild(t),t.getStyle().setProperty("grid-area","p"+e.getChildCount())}}class ButtonGroup{name="ButtonGroup_"+new Date().getTime()+"_"+parseInt(1e3*Math.random());count=0;add(e){e.setChildAttributeByQuery("[type=radio]","name",this.name),this.count++}getButtonCount(){return this.count}}class ChangeEvent{}class ChangeListener{stateChanged(e){}}class JSComponent{element=null;constructor(e){this.element=e}setBackground(e){this.element.style.backgroundColor=e.getRGB_HEX()}setEnabled(e){e?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","disabled")}invoke(method){let result=null;return eval("result = this.element."+method+";"),result}invokeInTree(query,method){let result=null;return eval("result = this.element.querySelector('"+query+"')."+method+";"),result}setID(e){this.element.id=e}getID(){return this.element.id}cssAddClass(e){this.element.classList.add(e)}cssRemoveClass(e){this.element.classList.remove(e)}cssToggleClass(e){this.element.classList.toggle(e)}cssClassList(){return this.element.classList}getStyle(){return this.element.style}setProperty(e,t){this.element[e]=t}getProperty(e){return this.element[e]}setAttribute(e,t){this.element.setAttribute(e,t)}getAttribute(e){return this.element.getAttribute(e)}removeAttribute(e){this.element.removeAttribute(e)}clearContent(){this.element.textContent=""}setContent(e){this.element.textContent=e}addEventListener(e,t){this.element.addEventListener(e,t)}appendInBody(){document.querySelector("body").appendChild(this.element)}removeFromBody(){document.querySelector("body").removeChild(this.element)}appendChild(e){this.element.appendChild(e.element)}appendNodeChild(e){this.element.appendChild(e)}insertBefore(e,t){this.element.insertBefore(e.element,this.element.querySelector(t))}insertNodeBefore(e,t){this.element.insertBefore(e,this.element.querySelector(t))}prependChild(e){this.element.prepend(e.element)}prependNodeChild(e){this.element.prepend(e)}appendChildInTree(e,t){this.element.querySelector(e).appendChild(t.element)}appendNodeChildInTree(e,t){this.element.querySelector(e).appendChild(t)}insertBeforeInTree(e,t,s){this.element.querySelector(e).insertBefore(t.element,this.element.querySelector(s))}insertNodeBeforeInTree(e,t,s){this.element.querySelector(e).insertBefore(t,this.element.querySelector(s))}prependChildInTree(e,t){this.element.querySelector(e).prepend(t.element)}prependNodeChildInTree(e,t){this.element.querySelector(e).prepend(t)}getChilStyleByIndex(e){return this.element.childNodes.item(e).style}getChilStyleByQuery(e){return this.element.querySelector(e).style}setChildAttributeByIndex(e,t,s){this.element.childNodes.item(e).setAttribute(t,s)}setChildAttributeByQuery(e,t,s){this.element.querySelector(e).setAttribute(t,s)}getChildAttributeByIndex(e,t){return this.element.childNodes.item(e).getAttribute(t)}getChildAttributeByQuery(e,t){return this.element.querySelector(e).getAttribute(t)}removeChildAttributeByQuery(e,t){this.element.querySelector(e).removeAttribute(t)}clearChildContentByQuery(e){this.element.querySelector(e).textContent=""}addChildEventListenerByQuery(e,t,s){this.element.querySelector(e).addEventListener(t,s)}getChildCount(){return this.element.childElementCount}}class AbstractButton extends JSComponent{listeners=[];constructor(e){super(e)}addActionListener(e){this.listeners.push(e)}onclick(){let e=new ActionEvent;this.listeners.forEach(t=>{"function"==typeof t?t(e):t.actionPerformed(e)})}setIcon(e){this.prependNodeChild(e.produce())}}class JSButton extends AbstractButton{constructor(){super(document.createElement("button")),this.cssAddClass("jsbutton"),this.addEventListener("click",e=>this.onclick())}setText(e){this.setContent(e)}setTooltip(e){this.setAttribute("title",e)}setContentAreaFilled(e){e?this.cssRemoveClass("jsbutton-outline"):this.cssAddClass("jsbutton-outline")}}class JSCheckBox extends AbstractButton{checkbox=null;text=null;constructor(){super(document.createElement("label")),this.cssAddClass("jscheckbox"),this.checkbox=document.createElement("input"),this.checkbox.setAttribute("type","checkbox"),this.checkbox.addEventListener("change",e=>this.onclick()),this.appendNodeChild(this.checkbox),this.text=document.createTextNode(""),this.appendNodeChild(this.text)}setText(e){this.text.textContent=e}getText(){return this.text.textContent}setSelected(e){this.checkbox.checked=e}isSelected(){return this.checkbox.checked}setEnabled(e){super.setEnabled(e),e?this.checkbox.removeAttribute("disabled"):this.checkbox.setAttribute("disabled","disabled")}}class JSRadioButton extends AbstractButton{radiobutton=null;text=null;constructor(){super(document.createElement("label")),this.cssAddClass("jsradiobutton"),this.radiobutton=document.createElement("input"),this.radiobutton.setAttribute("type","radio"),this.radiobutton.addEventListener("change",e=>this.onclick()),this.appendNodeChild(this.radiobutton),this.text=document.createTextNode(""),this.appendNodeChild(this.text)}setToggle(){this.setAttribute("role","toggle")}setText(e){this.text.textContent=e}getText(){return this.text.textContent}setSelected(e){this.radiobutton.checked=e}isSelected(){return this.radiobutton.checked}setEnabled(e){super.setEnabled(e),e?this.radiobutton.removeAttribute("disabled"):this.radiobutton.setAttribute("disabled","disabled")}setContentAreaFilled(e){e?this.cssRemoveClass("jsradiobutton-outline"):this.cssAddClass("jsradiobutton-outline")}}class JSToggleButton extends AbstractButton{togglebutton=null;text=null;constructor(){super(document.createElement("label")),this.cssAddClass("jstogglebutton"),this.togglebutton=document.createElement("input"),this.togglebutton.setAttribute("type","checkbox"),this.togglebutton.addEventListener("change",e=>this.onclick()),this.appendNodeChild(this.togglebutton),this.text=document.createTextNode(""),this.appendNodeChild(this.text)}setText(e){this.text.textContent=e}getText(){return this.text.textContent}setSelected(e){this.togglebutton.checked=e}isSelected(){return this.togglebutton.checked}setEnabled(e){super.setEnabled(e),e?this.togglebutton.removeAttribute("disabled"):this.togglebutton.setAttribute("disabled","disabled")}setContentAreaFilled(e){e?this.cssRemoveClass("jstogglebutton-outline"):this.cssAddClass("jstogglebutton-outline")}}class Filler extends JSComponent{constructor(e,t,s){super(document.createElement("span")),this.cssAddClass("jscomponent-box-filler"),this.getStyle().minWidth=e.width+"px",this.getStyle().minHeight=e.height+"px",this.getStyle().width=t.width+"px",this.getStyle().height=t.height+"px",this.getStyle().maxWidth=s.width+"px",this.getStyle().maxHeight=s.height+"px",0===e.width&&0===e.height&&0===t.width&&0===t.height&&(this.getStyle().flexGrow="1")}}class JSColorChooser extends JSComponent{container=new JSComponent(document.createElement("div"));componentOpacity=new JSComponent(document.createElement("div"));panel=new JSColorPanel;closeOnChange=!0;listeners=[];constructor(){super(document.createElement("details")),this.cssAddClass("jscolorchooser"),this.addEventListener("toggle",e=>{if(""+this.getProperty("open")=="true"){this.getChilStyleByQuery(".jscolorpanel").removeProperty("right"),this.getChilStyleByQuery(".jscolorpanel").removeProperty("bottom");let t=this.invokeInTree(".jscolorpanel","getBoundingClientRect()");t.left+t.width>document.body.scrollWidth&&(this.getChilStyleByQuery(".jscolorpanel").right="5px"),t.top+t.height>document.body.scrollHeight&&(this.getChilStyleByQuery(".jscolorpanel").bottom="5px")}});let e=this.getSelectedColor();this.componentOpacity.cssAddClass("jscolorchooser-preview-transparent"),this.componentOpacity.getStyle().backgroundColor=e.getRGBA_String(),this.container.cssAddClass("jscolorchooser-preview"),this.container.appendChild(this.componentOpacity),this.setContainerBorder(e),this.appendNodeChild(document.createElement("summary")),this.appendChildInTree("summary",this.container),this.panel.addChangeListener(e=>this.onchange()),this.appendChild(this.panel)}addExtraTab(e,t){this.panel.addExtraTab(e,t)}getSelectedColor(){return this.panel.getSelectedColor()}setSelectedColor(e){this.panel.setSelectedColor(e);let t=this.getSelectedColor();this.componentOpacity.getStyle().backgroundColor=t.getRGBA_String(),this.setContainerBorder(t)}setOpacityVisible(e){this.panel.setOpacityVisible(e)}getValueIsAdjusting(){return this.panel.getValueIsAdjusting()}addChangeListener(e){this.listeners.push(e)}onchange(){let e=this.getSelectedColor();this.componentOpacity.getStyle().backgroundColor=e.getRGBA_String(),this.setContainerBorder(e),!this.getValueIsAdjusting()&&this.closeOnChange&&(this.removeAttribute("open"),this.invoke("querySelector('summary').focus()"));let t=new ChangeEvent;this.listeners.forEach(e=>{"function"==typeof e?e(t):e.stateChanged(t)})}setContainerBorder(e){let t=[],s=[];t[0]=e.red,t[1]=e.green,t[2]=e.blue,Color.RGBtoHSL(t,s),this.container.getStyle().border="1px solid "+(s[2]>.5?e.darkened(.1).getRGB_HEX():e.lighted(.1).getRGB_HEX())}setEnabled(e){super.setEnabled(e),e?this.removeAttribute("tabIndex"):this.setAttribute("tabIndex","-1")}setCloseOnChange(e){this.closeOnChange=e}static showDialog(e,t,s,i,n){let r=new JSColorPanel;t&&r.setSelectedColor(t),r.setOpacityVisible(s),i&&Object.keys(i).forEach(e=>r.addExtraTab(""+e,i[e])),JSOptionPane.showInputDialog(r,e,e=>r.addChangeListener(e),()=>!0,e=>{e===JSOptionPane.OK_OPTION&&n(r.getSelectedColor())})}}class JSComboBox extends JSComponent{listeners=[];modelAndRenderer=null;constructor(){super(document.createElement("details")),this.cssAddClass("jscombobox"),this.addEventListener("toggle",e=>{if(""+this.getProperty("open")=="true"){this.getChilStyleByQuery("ul").removeProperty("right"),this.getChilStyleByQuery("ul").removeProperty("bottom");let t=this.invokeInTree("ul","getBoundingClientRect()");t.left+t.width>document.body.scrollWidth&&(this.getChilStyleByQuery("ul").right="5px"),t.top+t.height>document.body.scrollHeight&&(this.getChilStyleByQuery("ul").bottom="5px")}}),this.appendNodeChild(document.createElement("summary")),this.appendNodeChild(document.createElement("ul"))}getSelectedItem(){return this.modelAndRenderer.getSelectedElement()}setSelectedItem(e){this.modelAndRenderer.setSelectedElement(e)}setModelAndRenderer(e){this.modelAndRenderer=e,this.modelAndRenderer.setComboBox(this)}getModelAndRenderer(){return this.modelAndRenderer}addActionListener(e){this.listeners.push(e)}onclick(){let e=new ActionEvent;return this.listeners.forEach(t=>{"function"==typeof t?t(e):t.actionPerformed(e)}),null}setEnabled(e){super.setEnabled(e),e?this.removeAttribute("tabIndex"):this.setAttribute("tabIndex","-1")}}class JSDialog extends JSComponent{title=new JSLabel;close=new JSButton;contentPane=new JSPanel;listeners=[];constructor(){super(document.createElement("dialog")),this.cssAddClass("jsdialog"),this.addEventListener("close",e=>this.onclose()),this.appendNodeChild(document.createElement("article"));let e=document.createElement("header");e.classList.add("jsdialog-header"),this.appendNodeChildInTree("article",e);let t=new JSPanel;t.setLayout(new BorderLayout(0,0)),t.add(this.title,BorderLayout.CENTER),t.add(this.close,BorderLayout.EAST),this.close.addActionListener(e=>this.setVisible(!1)),this.appendChildInTree("header",t),this.contentPane.setLayout(new BorderLayout(0,0)),this.contentPane.cssAddClass("jsdialog-content"),this.appendChildInTree("article",this.contentPane),this.appendInBody()}dispose(){this.removeFromBody()}setTitle(e){this.title.setText(e)}getContentPane(){return this.contentPane}setVisible(e){e?this.invoke("showModal()"):this.invoke("close()")}addWindowClosedListener(e){this.listeners.push(e)}onclose(){let e=new WindowEvent;this.listeners.forEach(t=>{"function"==typeof t?t(e):t.windowClosed(e)})}}class JSFrame extends JSComponent{contentPane=new JSPanel;constructor(){super(document.querySelector("body")),this.cssAddClass("jsframe"),this.appendChild(this.contentPane),this.contentPane.setLayout(new BorderLayout(0,0))}setTitle(e){if(e){let t=document.querySelector("title");t||(t=document.createElement("title"),document.getElementsByTagName("head")[0].appendChild(t)),t.textContent=e}}getContentPane(){return this.contentPane}}class JSLabel extends JSComponent{constructor(){super(document.createElement("label")),this.cssAddClass("jslabel")}setText(e){this.setContent(e)}}class JSPanel extends JSComponent{layoutManager=null;constructor(){super(document.createElement("div")),this.cssAddClass("jspanel"),this.setLayout(new FlowLayout(FlowLayout.CENTER,5,5))}setLayout(e){this.layoutManager&&this.layoutManager.resetPanel(this),this.layoutManager=e,this.layoutManager.setPanel(this)}getLayout(){return this.layoutManager}add(e,t){this.layoutManager.addInPanel(this,e,t)}}class JSAbstractColorExtraTabPanel extends JSPanel{listeners=[];getSelectedColor(){}setSelectedColor(e){}getValueIsAdjusting(){}addChangeListener(e){this.listeners.push(e)}onchange(){let e=new ChangeEvent;this.listeners.forEach(t=>{"function"==typeof t?t(e):t.stateChanged(e)})}}class JSAbstractColorFormatPanel extends JSPanel{buttonGroup=new ButtonGroup;square=new JSComponent(document.createElement("canvas"));ctxSquare=this.square.invoke("getContext('2d')");rect=new JSComponent(document.createElement("canvas"));ctxRect=this.rect.invoke("getContext('2d')");listeners=[];squareDown=!1;rectDown=!1;valueIsAdjusting=!1;static SQUARE_SIZE=180;static RECT_WIDTH=25;static RECT_HEIGHT=180;constructor(){super(),this.setLayout(new GridBagLayout),this.square.setProperty("width",""+JSAbstractColorFormatPanel.SQUARE_SIZE),this.square.setProperty("height",""+JSAbstractColorFormatPanel.SQUARE_SIZE),this.square.getStyle().cursor="pointer",this.square.addEventListener("mousedown",e=>this.squareEvent(e,"down")),this.square.addEventListener("mousemove",e=>this.squareEvent(e,"move")),this.square.addEventListener("mouseup",e=>this.squareEvent(e,"up")),this.addComponent(this.square,0,0,1,7,GridBagConstraints.CENTER,GridBagConstraints.NONE,0,0,new Insets(0,0,0,5)),this.rect.setProperty("width",""+JSAbstractColorFormatPanel.RECT_WIDTH),this.rect.setProperty("height",""+JSAbstractColorFormatPanel.RECT_HEIGHT),this.rect.getStyle().cursor="pointer",this.rect.addEventListener("mousedown",e=>this.rectEvent(e,"down")),this.rect.addEventListener("mousemove",e=>this.rectEvent(e,"move")),this.rect.addEventListener("mouseup",e=>this.rectEvent(e,"up")),this.addComponent(this.rect,1,0,1,7,GridBagConstraints.CENTER,GridBagConstraints.NONE,0,0,new Insets(0,0,0,5))}addRadio(e,t,s,i,n){this.buttonGroup.add(e),e.setText(t),e.setSelected(s),e.addActionListener(e=>this.drawAll()),this.addComponent(e,i,n,1,1,GridBagConstraints.LINE_START,GridBagConstraints.NONE,0,0,null)}addSlider(e,t,s,i,n,r){e.setValue(s),e.setMaximum(i),e.getStyle().minWidth="20rem",e.addChangeListener(s=>this.sliderToSpinner(e,t)),this.addComponent(e,n,r,2,1,GridBagConstraints.CENTER,GridBagConstraints.HORIZONTAL,1,0,null)}addSpinner(e,t,s,i,n,r){e.setModel(new SpinnerNumberModel(s,0,i,1)),e.getStyle().minWidth="3rem",e.getChilStyleByQuery("input[type=number]").minWidth="2.5rem",e.getChilStyleByQuery("input[type=number]").width="2.5rem",e.addChangeListener(s=>this.spinnerToSlider(e,t)),this.addComponent(e,n,r,1,1,GridBagConstraints.LINE_END,GridBagConstraints.NONE,0,0,null)}addComponent(e,t,s,i,n,r,a,l,o,h){let d=new GridBagConstraints;d.gridx=t,d.gridy=s,d.gridwidth=i,d.gridheight=n,d.anchor=r,d.fill=a,d.weightx=l,d.weighty=o,h&&(d.insets=h),this.add(e,d)}sliderToSpinner(e,t){t.setValue(e.getValue()),this.drawAll(),this.onchange(e.getValueIsAdjusting())}spinnerToSlider(e,t){t.setValue(e.getValue()),this.drawAll(),this.onchange(e.getValueIsAdjusting())}drawAll(){this.drawSquare(),this.drawSquareSelector(),this.drawRect(),this.drawRectSelector()}drawSquare(){}drawSquareSelector(){}drawCircle(e,t){let s=[];this.ctxSquare.beginPath(),this.ctxSquare.arc(e*JSColorRGBPanel.SQUARE_SIZE,(1-t)*JSColorRGBPanel.SQUARE_SIZE,5,0,2*Math.PI),this.ctxSquare.closePath(),this.ctxSquare.strokeStyle=this.getStrokeStyle("black"),this.ctxSquare.setLineDash(s),this.ctxSquare.stroke(),s.push(2.5,2.5),this.ctxSquare.beginPath(),this.ctxSquare.arc(e*JSColorRGBPanel.SQUARE_SIZE,(1-t)*JSColorRGBPanel.SQUARE_SIZE,5,0,2*Math.PI),this.ctxSquare.closePath(),this.ctxSquare.strokeStyle=this.getStrokeStyle("white"),this.ctxSquare.setLineDash(s),this.ctxSquare.stroke()}drawRect(){}drawRectSelector(){}drawLine(e){let t=[];this.ctxRect.beginPath(),this.ctxRect.moveTo(0,(1-e)*JSColorRGBPanel.RECT_HEIGHT),this.ctxRect.lineTo(JSColorRGBPanel.RECT_WIDTH,(1-e)*JSColorRGBPanel.RECT_HEIGHT),this.ctxRect.closePath(),this.ctxRect.strokeStyle=this.getStrokeStyle("black"),this.ctxRect.setLineDash(t),this.ctxRect.stroke(),t.push(2.5,2.5),this.ctxRect.beginPath(),this.ctxRect.moveTo(0,(1-e)*JSColorRGBPanel.RECT_HEIGHT),this.ctxRect.lineTo(JSColorRGBPanel.RECT_WIDTH,(1-e)*JSColorRGBPanel.RECT_HEIGHT),this.ctxRect.closePath(),this.ctxRect.strokeStyle=this.getStrokeStyle("white"),this.ctxRect.setLineDash(t),this.ctxRect.stroke()}squareEvent(e,t){}canDoItSquare(e){switch(e){case"down":return this.squareDown=!0,!0;case"move":return this.squareDown;case"up":return this.squareDown=!1,!0;default:return!1}}rectEvent(e,t){}canDoItRect(e){switch(e){case"down":return this.rectDown=!0,!0;case"move":return this.rectDown;case"up":return this.rectDown=!1,!0;default:return!1}}getValueIsAdjusting(){return this.valueIsAdjusting}addChangeListener(e){this.listeners.push(e)}onchange(e){this.valueIsAdjusting=e;let t=new ChangeEvent;this.listeners.forEach(e=>{"function"==typeof e?e(t):e.stateChanged(t)})}getSelectedColor(){}setSelectedColor(e){}getStrokeStyle(e){return e}}class JSColorCMYKPanel extends JSAbstractColorFormatPanel{cyan=new JSRadioButton;cyanSlider=new JSSlider;cyanSpinner=new JSSpinner;magenta=new JSRadioButton;magentaSlider=new JSSlider;magentaSpinner=new JSSpinner;yellow=new JSRadioButton;yellowSlider=new JSSlider;yellowSpinner=new JSSpinner;blackSlider=new JSSlider;blackSpinner=new JSSpinner;constructor(){super(),this.addRadio(this.cyan,Translations.JSColorChooser_CYAN,!0,2,0),this.addRadio(this.magenta,Translations.JSColorChooser_MAGENTA,!1,2,2),this.addRadio(this.yellow,Translations.JSColorChooser_YELLOW,!1,2,4);let e=new JSLabel;e.setText(Translations.JSColorChooser_BLACK),this.addComponent(e,2,6,1,1,GridBagConstraints.LINE_START,GridBagConstraints.NONE,0,0,null),this.addSlider(this.cyanSlider,this.cyanSpinner,0,255,2,1),this.addSlider(this.magentaSlider,this.magentaSpinner,0,255,2,3),this.addSlider(this.yellowSlider,this.yellowSpinner,0,255,2,5),this.addSlider(this.blackSlider,this.blackSpinner,0,255,2,7),this.addSpinner(this.cyanSpinner,this.cyanSlider,0,255,3,0),this.addSpinner(this.magentaSpinner,this.magentaSlider,0,255,3,2),this.addSpinner(this.yellowSpinner,this.yellowSlider,0,255,3,4),this.addSpinner(this.blackSpinner,this.blackSlider,0,255,3,6),this.drawAll()}getSelectedColor(){let e=[],t=[];return e[0]=this.cyanSlider.getValue(),e[1]=this.magentaSlider.getValue(),e[2]=this.yellowSlider.getValue(),e[3]=this.blackSlider.getValue(),Color.CMYKtoRGB(e,t),new Color(t[0],t[1],t[2],255)}setSelectedColor(e){let t=[],s=[];t[0]=e.red,t[1]=e.green,t[2]=e.blue,Color.RGBtoCMYK(t,s),this.setColor(s[0],s[1],s[2],s[3],!1,!1)}drawSquare(){let e=this.ctxSquare.createImageData(JSColorCMYKPanel.SQUARE_SIZE,JSColorCMYKPanel.SQUARE_SIZE),t=e.data,s=[],i=[];for(let n=0;n<JSColorCMYKPanel.SQUARE_SIZE;n++)for(let r=0;r<JSColorCMYKPanel.SQUARE_SIZE;r++){this.cyan.isSelected()?(s[0]=this.cyanSlider.getValue(),s[1]=255*r/JSColorCMYKPanel.SQUARE_SIZE,s[2]=255*n/JSColorCMYKPanel.SQUARE_SIZE):this.magenta.isSelected()?(s[0]=255*r/JSColorCMYKPanel.SQUARE_SIZE,s[1]=this.magentaSlider.getValue(),s[2]=255*n/JSColorCMYKPanel.SQUARE_SIZE):this.yellow.isSelected()&&(s[0]=255*r/JSColorCMYKPanel.SQUARE_SIZE,s[1]=255*n/JSColorCMYKPanel.SQUARE_SIZE,s[2]=this.yellowSlider.getValue()),s[3]=this.blackSlider.getValue(),Color.CMYKtoRGB(s,i);let a=((JSColorCMYKPanel.SQUARE_SIZE-n)*JSColorCMYKPanel.SQUARE_SIZE+r)*4;t[a]=i[0],t[a+1]=i[1],t[a+2]=i[2],t[a+3]=255}this.ctxSquare.putImageData(e,0,0)}drawSquareSelector(){let e=0,t=0;this.cyan.isSelected()?(e=this.magentaSpinner.getValue()/255,t=this.yellowSpinner.getValue()/255):this.magenta.isSelected()?(e=this.cyanSpinner.getValue()/255,t=this.yellowSpinner.getValue()/255):this.yellow.isSelected()&&(e=this.cyanSpinner.getValue()/255,t=this.magentaSpinner.getValue()/255),this.drawCircle(e,t)}drawRect(){let e=this.ctxRect.createImageData(JSColorCMYKPanel.RECT_WIDTH,JSColorCMYKPanel.RECT_HEIGHT),t=e.data,s=[],i=[];for(let n=0;n<JSColorCMYKPanel.RECT_HEIGHT;n++){this.cyan.isSelected()?(s[0]=255*n/JSColorCMYKPanel.RECT_HEIGHT,s[1]=0,s[2]=0):this.magenta.isSelected()?(s[0]=0,s[1]=255*n/JSColorCMYKPanel.RECT_HEIGHT,s[2]=0):this.yellow.isSelected()&&(s[0]=0,s[1]=0,s[2]=255*n/JSColorCMYKPanel.RECT_HEIGHT),s[3]=this.blackSlider.getValue(),Color.CMYKtoRGB(s,i);for(let r=0;r<JSColorCMYKPanel.RECT_WIDTH;r++){let a=((JSColorCMYKPanel.RECT_HEIGHT-n)*JSColorCMYKPanel.RECT_WIDTH+r)*4;t[a]=i[0],t[a+1]=i[1],t[a+2]=i[2],t[a+3]=255}}this.ctxRect.putImageData(e,0,0)}drawRectSelector(){let e=0;this.cyan.isSelected()?e=this.cyanSpinner.getValue()/255:this.magenta.isSelected()?e=this.magentaSpinner.getValue()/255:this.yellow.isSelected()&&(e=this.yellowSpinner.getValue()/255),this.drawLine(e)}squareEvent(e,t){this.canDoItSquare(t)&&(this.cyan.isSelected()?this.setColor(this.cyanSlider.getValue(),parseInt(255*e.offsetX/JSColorCMYKPanel.SQUARE_SIZE),parseInt(255*(JSColorCMYKPanel.SQUARE_SIZE-e.offsetY)/JSColorCMYKPanel.SQUARE_SIZE),this.blackSlider.getValue(),!0,"up"!==t):this.magenta.isSelected()?this.setColor(parseInt(255*e.offsetX/JSColorCMYKPanel.SQUARE_SIZE),this.magentaSlider.getValue(),parseInt(255*(JSColorCMYKPanel.SQUARE_SIZE-e.offsetY)/JSColorCMYKPanel.SQUARE_SIZE),this.blackSlider.getValue(),!0,"up"!==t):this.yellow.isSelected()&&this.setColor(parseInt(255*e.offsetX/JSColorCMYKPanel.SQUARE_SIZE),parseInt(255*(JSColorCMYKPanel.SQUARE_SIZE-e.offsetY)/JSColorCMYKPanel.SQUARE_SIZE),this.yellowSlider.getValue(),this.blackSlider.getValue(),!0,"up"!==t))}rectEvent(e,t){this.canDoItRect(t)&&(this.cyan.isSelected()?this.setColor(parseInt(255*(JSColorCMYKPanel.SQUARE_SIZE-e.offsetY)/JSColorCMYKPanel.SQUARE_SIZE),this.magentaSlider.getValue(),this.yellowSlider.getValue(),this.blackSlider.getValue(),!0,"up"!==t):this.magenta.isSelected()?this.setColor(this.cyanSlider.getValue(),parseInt(255*(JSColorCMYKPanel.SQUARE_SIZE-e.offsetY)/JSColorCMYKPanel.SQUARE_SIZE),this.yellowSlider.getValue(),this.blackSlider.getValue(),!0,"up"!==t):this.yellow.isSelected()&&this.setColor(this.cyanSlider.getValue(),this.magentaSlider.getValue(),parseInt(255*(JSColorCMYKPanel.SQUARE_SIZE-e.offsetY)/JSColorCMYKPanel.SQUARE_SIZE),this.blackSlider.getValue(),!0,"up"!==t))}setColor(e,t,s,i,n,r){this.cyanSlider.setValue(e),this.cyanSpinner.setValue(e),this.magentaSlider.setValue(t),this.magentaSpinner.setValue(t),this.yellowSlider.setValue(s),this.yellowSpinner.setValue(s),this.blackSlider.setValue(i),this.blackSpinner.setValue(i),this.drawAll(),n&&this.onchange(r)}}class JSColorHSLPanel extends JSAbstractColorFormatPanel{hue=new JSRadioButton;hueSlider=new JSSlider;hueSpinner=new JSSpinner;saturation=new JSRadioButton;satutationSlider=new JSSlider;saturationSpinner=new JSSpinner;lightness=new JSRadioButton;lightnessSlider=new JSSlider;lightnessSpinner=new JSSpinner;constructor(){super(),this.addRadio(this.hue,Translations.JSColorChooser_HUE,!0,2,0),this.addRadio(this.saturation,Translations.JSColorChooser_SATURATION,!1,2,2),this.addRadio(this.lightness,Translations.JSColorChooser_LIGHTNESS,!1,2,4),this.addSlider(this.hueSlider,this.hueSpinner,0,360,2,1),this.addSlider(this.satutationSlider,this.saturationSpinner,0,100,2,3),this.addSlider(this.lightnessSlider,this.lightnessSpinner,0,100,2,5),this.addSpinner(this.hueSpinner,this.hueSlider,0,360,3,0),this.addSpinner(this.saturationSpinner,this.satutationSlider,0,100,3,2),this.addSpinner(this.lightnessSpinner,this.lightnessSlider,100,100,3,4),this.drawAll()}getSelectedColor(){let e=[],t=[];return e[0]=this.hueSpinner.getValue()/360,e[1]=this.saturationSpinner.getValue()/100,e[2]=this.lightnessSpinner.getValue()/100,Color.HSLtoRGB(e,t),new Color(t[0],t[1],t[2],255)}setSelectedColor(e){let t=[],s=[];t[0]=e.red,t[1]=e.green,t[2]=e.blue,Color.RGBtoHSL(t,s),this.setColor(360*s[0],100*s[1],100*s[2],!1,!1)}drawSquare(){let e=this.ctxSquare.createImageData(JSColorHSLPanel.SQUARE_SIZE,JSColorHSLPanel.SQUARE_SIZE),t=e.data,s=[],i=[];for(let n=0;n<JSColorHSLPanel.SQUARE_SIZE;n++)for(let r=0;r<JSColorHSLPanel.SQUARE_SIZE;r++){this.hue.isSelected()?(s[0]=this.hueSpinner.getValue()/360,s[1]=r/JSColorHSLPanel.SQUARE_SIZE,s[2]=n/JSColorHSLPanel.SQUARE_SIZE):this.saturation.isSelected()?(s[0]=r/JSColorHSLPanel.SQUARE_SIZE,s[1]=this.saturationSpinner.getValue()/100,s[2]=n/JSColorHSLPanel.SQUARE_SIZE):this.lightness.isSelected()&&(s[0]=r/JSColorHSLPanel.SQUARE_SIZE,s[1]=n/JSColorHSLPanel.SQUARE_SIZE,s[2]=this.lightnessSpinner.getValue()/100),Color.HSLtoRGB(s,i);let a=((JSColorHSLPanel.SQUARE_SIZE-n)*JSColorHSLPanel.SQUARE_SIZE+r)*4;t[a]=i[0],t[a+1]=i[1],t[a+2]=i[2],t[a+3]=255}this.ctxSquare.putImageData(e,0,0)}drawSquareSelector(){let e=0,t=0;this.hue.isSelected()?(e=this.saturationSpinner.getValue()/100,t=this.lightnessSpinner.getValue()/100):this.saturation.isSelected()?(e=this.hueSpinner.getValue()/360,t=this.lightnessSpinner.getValue()/100):this.lightness.isSelected()&&(e=this.hueSpinner.getValue()/360,t=this.saturationSpinner.getValue()/100),this.drawCircle(e,t)}drawRect(){let e=this.ctxRect.createImageData(JSColorHSLPanel.RECT_WIDTH,JSColorHSLPanel.RECT_HEIGHT),t=e.data,s=[],i=[];for(let n=0;n<JSColorHSLPanel.RECT_HEIGHT;n++){this.hue.isSelected()?(s[0]=n/JSColorHSLPanel.RECT_HEIGHT,s[1]=1,s[2]=.5):this.saturation.isSelected()?(s[0]=this.hueSpinner.getValue()/360,s[1]=n/JSColorHSLPanel.RECT_HEIGHT,s[2]=.5):this.lightness.isSelected()&&(s[0]=this.hueSpinner.getValue()/360,s[1]=1,s[2]=n/JSColorHSLPanel.RECT_HEIGHT),Color.HSLtoRGB(s,i);for(let r=0;r<JSColorHSLPanel.RECT_WIDTH;r++){let a=((JSColorHSLPanel.RECT_HEIGHT-n)*JSColorHSLPanel.RECT_WIDTH+r)*4;t[a]=i[0],t[a+1]=i[1],t[a+2]=i[2],t[a+3]=255}}this.ctxRect.putImageData(e,0,0)}drawRectSelector(){let e=0;this.hue.isSelected()?e=this.hueSpinner.getValue()/360:this.saturation.isSelected()?e=this.saturationSpinner.getValue()/100:this.lightness.isSelected()&&(e=this.lightnessSpinner.getValue()/100),this.drawLine(e)}squareEvent(e,t){this.canDoItSquare(t)&&(this.hue.isSelected()?this.setColor(this.hueSpinner.getValue(),100*e.offsetX/JSColorHSLPanel.SQUARE_SIZE,100*(JSColorHSLPanel.SQUARE_SIZE-e.offsetY)/JSColorHSLPanel.SQUARE_SIZE,!0,"up"!==t):this.saturation.isSelected()?this.setColor(360*e.offsetX/JSColorHSLPanel.SQUARE_SIZE,this.saturationSpinner.getValue(),100*(JSColorHSLPanel.SQUARE_SIZE-e.offsetY)/JSColorHSLPanel.SQUARE_SIZE,!0,"up"!==t):this.lightness.isSelected()&&this.setColor(360*e.offsetX/JSColorHSLPanel.SQUARE_SIZE,100*(JSColorHSLPanel.SQUARE_SIZE-e.offsetY)/JSColorHSLPanel.SQUARE_SIZE,this.lightnessSpinner.getValue(),!0,"up"!==t))}rectEvent(e,t){this.canDoItRect(t)&&(this.hue.isSelected()?this.setColor(360*(JSColorHSLPanel.SQUARE_SIZE-e.offsetY)/JSColorHSLPanel.SQUARE_SIZE,this.saturationSpinner.getValue(),this.lightnessSpinner.getValue(),!0,"up"!==t):this.saturation.isSelected()?this.setColor(this.hueSpinner.getValue(),100*(JSColorHSLPanel.SQUARE_SIZE-e.offsetY)/JSColorHSLPanel.SQUARE_SIZE,this.lightnessSpinner.getValue(),!0,"up"!==t):this.lightness.isSelected()&&this.setColor(this.hueSpinner.getValue(),this.saturationSpinner.getValue(),100*(JSColorHSLPanel.SQUARE_SIZE-e.offsetY)/JSColorHSLPanel.SQUARE_SIZE,!0,"up"!==t))}setColor(e,t,s,i,n){this.hueSlider.setValue(parseInt(e)),this.hueSpinner.setValue(parseInt(e)),this.satutationSlider.setValue(parseInt(t)),this.saturationSpinner.setValue(parseInt(t)),this.lightnessSlider.setValue(parseInt(s)),this.lightnessSpinner.setValue(parseInt(s)),this.drawAll(),i&&this.onchange(n)}}class JSColorHSVPanel extends JSAbstractColorFormatPanel{hue=new JSRadioButton;hueSlider=new JSSlider;hueSpinner=new JSSpinner;saturation=new JSRadioButton;satutationSlider=new JSSlider;saturationSpinner=new JSSpinner;value=new JSRadioButton;valueSlider=new JSSlider;valueSpinner=new JSSpinner;constructor(){super(),this.addRadio(this.hue,Translations.JSColorChooser_HUE,!0,2,0),this.addRadio(this.saturation,Translations.JSColorChooser_SATURATION,!1,2,2),this.addRadio(this.value,Translations.JSColorChooser_VALUE,!1,2,4),this.addSlider(this.hueSlider,this.hueSpinner,0,360,2,1),this.addSlider(this.satutationSlider,this.saturationSpinner,0,100,2,3),this.addSlider(this.valueSlider,this.valueSpinner,0,100,2,5),this.addSpinner(this.hueSpinner,this.hueSlider,0,360,3,0),this.addSpinner(this.saturationSpinner,this.satutationSlider,0,100,3,2),this.addSpinner(this.valueSpinner,this.valueSlider,100,100,3,4),this.drawAll()}getSelectedColor(){let e=[],t=[];return e[0]=this.hueSpinner.getValue()/360,e[1]=this.saturationSpinner.getValue()/100,e[2]=this.valueSpinner.getValue()/100,Color.HSVtoRGB(e,t),new Color(t[0],t[1],t[2],255)}setSelectedColor(e){let t=[],s=[];t[0]=e.red,t[1]=e.green,t[2]=e.blue,Color.RGBtoHSV(t,s),this.setColor(360*s[0],100*s[1],100*s[2],!1,!1)}drawSquare(){let e=this.ctxSquare.createImageData(JSColorHSVPanel.SQUARE_SIZE,JSColorHSVPanel.SQUARE_SIZE),t=e.data,s=[],i=[];for(let n=0;n<JSColorHSVPanel.SQUARE_SIZE;n++)for(let r=0;r<JSColorHSVPanel.SQUARE_SIZE;r++){this.hue.isSelected()?(s[0]=this.hueSpinner.getValue()/360,s[1]=r/JSColorHSVPanel.SQUARE_SIZE,s[2]=n/JSColorHSVPanel.SQUARE_SIZE):this.saturation.isSelected()?(s[0]=r/JSColorHSVPanel.SQUARE_SIZE,s[1]=this.saturationSpinner.getValue()/100,s[2]=n/JSColorHSVPanel.SQUARE_SIZE):this.value.isSelected()&&(s[0]=r/JSColorHSVPanel.SQUARE_SIZE,s[1]=n/JSColorHSVPanel.SQUARE_SIZE,s[2]=this.valueSpinner.getValue()/100),Color.HSVtoRGB(s,i);let a=((JSColorHSVPanel.SQUARE_SIZE-n)*JSColorHSVPanel.SQUARE_SIZE+r)*4;t[a]=i[0],t[a+1]=i[1],t[a+2]=i[2],t[a+3]=255}this.ctxSquare.putImageData(e,0,0)}drawSquareSelector(){let e=0,t=0;this.hue.isSelected()?(e=this.saturationSpinner.getValue()/100,t=this.valueSpinner.getValue()/100):this.saturation.isSelected()?(e=this.hueSpinner.getValue()/360,t=this.valueSpinner.getValue()/100):this.value.isSelected()&&(e=this.hueSpinner.getValue()/360,t=this.saturationSpinner.getValue()/100),this.drawCircle(e,t)}drawRect(){let e=this.ctxRect.createImageData(JSColorHSVPanel.RECT_WIDTH,JSColorHSVPanel.RECT_HEIGHT),t=e.data,s=[],i=[];for(let n=0;n<JSColorHSVPanel.RECT_HEIGHT;n++){this.hue.isSelected()?(s[0]=n/JSColorHSVPanel.RECT_HEIGHT,s[1]=1,s[2]=1):this.saturation.isSelected()?(s[0]=this.hueSpinner.getValue()/360,s[1]=n/JSColorHSVPanel.RECT_HEIGHT,s[2]=1):this.value.isSelected()&&(s[0]=this.hueSpinner.getValue()/360,s[1]=1,s[2]=n/JSColorHSVPanel.RECT_HEIGHT),Color.HSVtoRGB(s,i);for(let r=0;r<JSColorHSVPanel.RECT_WIDTH;r++){let a=((JSColorHSVPanel.RECT_HEIGHT-n)*JSColorHSVPanel.RECT_WIDTH+r)*4;t[a]=i[0],t[a+1]=i[1],t[a+2]=i[2],t[a+3]=255}}this.ctxRect.putImageData(e,0,0)}drawRectSelector(){let e=0;this.hue.isSelected()?e=this.hueSpinner.getValue()/360:this.saturation.isSelected()?e=this.saturationSpinner.getValue()/100:this.value.isSelected()&&(e=this.valueSpinner.getValue()/100),this.drawLine(e)}squareEvent(e,t){this.canDoItSquare(t)&&(this.hue.isSelected()?this.setColor(this.hueSpinner.getValue(),100*e.offsetX/JSColorHSVPanel.SQUARE_SIZE,100*(JSColorHSVPanel.SQUARE_SIZE-e.offsetY)/JSColorHSVPanel.SQUARE_SIZE,!0,"up"!==t):this.saturation.isSelected()?this.setColor(360*e.offsetX/JSColorHSVPanel.SQUARE_SIZE,this.saturationSpinner.getValue(),100*(JSColorHSVPanel.SQUARE_SIZE-e.offsetY)/JSColorHSVPanel.SQUARE_SIZE,!0,"up"!==t):this.value.isSelected()&&this.setColor(360*e.offsetX/JSColorHSVPanel.SQUARE_SIZE,100*(JSColorHSVPanel.SQUARE_SIZE-e.offsetY)/JSColorHSVPanel.SQUARE_SIZE,this.valueSpinner.getValue(),!0,"up"!==t))}rectEvent(e,t){this.canDoItRect(t)&&(this.hue.isSelected()?this.setColor(360*(JSColorHSVPanel.SQUARE_SIZE-e.offsetY)/JSColorHSVPanel.SQUARE_SIZE,this.saturationSpinner.getValue(),this.valueSpinner.getValue(),!0,"up"!==t):this.saturation.isSelected()?this.setColor(this.hueSpinner.getValue(),100*(JSColorHSVPanel.SQUARE_SIZE-e.offsetY)/JSColorHSVPanel.SQUARE_SIZE,this.valueSpinner.getValue(),!0,"up"!==t):this.value.isSelected()&&this.setColor(this.hueSpinner.getValue(),this.saturationSpinner.getValue(),100*(JSColorHSVPanel.SQUARE_SIZE-e.offsetY)/JSColorHSVPanel.SQUARE_SIZE,!0,"up"!==t))}setColor(e,t,s,i,n){this.hueSlider.setValue(parseInt(e)),this.hueSpinner.setValue(parseInt(e)),this.satutationSlider.setValue(parseInt(t)),this.saturationSpinner.setValue(parseInt(t)),this.valueSlider.setValue(parseInt(s)),this.valueSpinner.setValue(parseInt(s)),this.drawAll(),i&&this.onchange(n)}}class JSColorRGBPanel extends JSAbstractColorFormatPanel{red=new JSRadioButton;redSlider=new JSSlider;redSpinner=new JSSpinner;green=new JSRadioButton;greenSlider=new JSSlider;greenSpinner=new JSSpinner;blue=new JSRadioButton;blueSlider=new JSSlider;blueSpinner=new JSSpinner;constructor(){super(),this.addRadio(this.red,Translations.JSColorChooser_RED,!0,2,0),this.addRadio(this.green,Translations.JSColorChooser_GREEN,!1,2,2),this.addRadio(this.blue,Translations.JSColorChooser_BLUE,!1,2,4),this.addSlider(this.redSlider,this.redSpinner,0,255,2,1),this.addSlider(this.greenSlider,this.greenSpinner,0,255,2,3),this.addSlider(this.blueSlider,this.blueSpinner,0,255,2,5),this.addSpinner(this.redSpinner,this.redSlider,0,255,3,0),this.addSpinner(this.greenSpinner,this.greenSlider,0,255,3,2),this.addSpinner(this.blueSpinner,this.blueSlider,0,255,3,4),this.drawAll()}getSelectedColor(){return new Color(this.redSlider.getValue(),this.greenSlider.getValue(),this.blueSlider.getValue(),255)}setSelectedColor(e){this.setColor(e.red,e.green,e.blue,!1,!1)}drawSquare(){let e=this.ctxSquare.createImageData(JSColorRGBPanel.SQUARE_SIZE,JSColorRGBPanel.SQUARE_SIZE),t=e.data;for(let s=0;s<JSColorRGBPanel.SQUARE_SIZE;s++)for(let i=0;i<JSColorRGBPanel.SQUARE_SIZE;i++){let n=((JSColorRGBPanel.SQUARE_SIZE-s)*JSColorRGBPanel.SQUARE_SIZE+i)*4;this.red.isSelected()?(t[n]=this.redSlider.getValue(),t[n+1]=255*i/JSColorRGBPanel.SQUARE_SIZE,t[n+2]=255*s/JSColorRGBPanel.SQUARE_SIZE):this.green.isSelected()?(t[n]=255*i/JSColorRGBPanel.SQUARE_SIZE,t[n+1]=this.greenSlider.getValue(),t[n+2]=255*s/JSColorRGBPanel.SQUARE_SIZE):this.blue.isSelected()&&(t[n]=255*i/JSColorRGBPanel.SQUARE_SIZE,t[n+1]=255*s/JSColorRGBPanel.SQUARE_SIZE,t[n+2]=this.blueSlider.getValue()),t[n+3]=255}this.ctxSquare.putImageData(e,0,0)}drawSquareSelector(){let e=0,t=0;this.red.isSelected()?(e=this.greenSpinner.getValue()/255,t=this.blueSpinner.getValue()/255):this.green.isSelected()?(e=this.redSpinner.getValue()/255,t=this.blueSpinner.getValue()/255):this.blue.isSelected()&&(e=this.redSpinner.getValue()/255,t=this.greenSpinner.getValue()/255),this.drawCircle(e,t)}drawRect(){let e=this.ctxRect.createImageData(JSColorRGBPanel.RECT_WIDTH,JSColorRGBPanel.RECT_HEIGHT),t=e.data,s=[];for(let i=0;i<JSColorRGBPanel.RECT_HEIGHT;i++){this.red.isSelected()?(s[0]=255*i/JSColorRGBPanel.RECT_HEIGHT,s[1]=0,s[2]=0):this.green.isSelected()?(s[0]=0,s[1]=255*i/JSColorRGBPanel.RECT_HEIGHT,s[2]=0):this.blue.isSelected()&&(s[0]=0,s[1]=0,s[2]=255*i/JSColorRGBPanel.RECT_HEIGHT);for(let n=0;n<JSColorRGBPanel.RECT_WIDTH;n++){let r=((JSColorRGBPanel.RECT_HEIGHT-i)*JSColorRGBPanel.RECT_WIDTH+n)*4;t[r]=s[0],t[r+1]=s[1],t[r+2]=s[2],t[r+3]=255}}this.ctxRect.putImageData(e,0,0)}drawRectSelector(){let e=0;this.red.isSelected()?e=this.redSpinner.getValue()/255:this.green.isSelected()?e=this.greenSpinner.getValue()/255:this.blue.isSelected()&&(e=this.blueSpinner.getValue()/255),this.drawLine(e)}squareEvent(e,t){this.canDoItSquare(t)&&(this.red.isSelected()?this.setColor(this.redSlider.getValue(),parseInt(255*e.offsetX/JSColorRGBPanel.SQUARE_SIZE),parseInt(255*(JSColorRGBPanel.SQUARE_SIZE-e.offsetY)/JSColorRGBPanel.SQUARE_SIZE),!0,"up"!==t):this.green.isSelected()?this.setColor(parseInt(255*e.offsetX/JSColorRGBPanel.SQUARE_SIZE),this.greenSlider.getValue(),parseInt(255*(JSColorRGBPanel.SQUARE_SIZE-e.offsetY)/JSColorRGBPanel.SQUARE_SIZE),!0,"up"!==t):this.blue.isSelected()&&this.setColor(parseInt(255*e.offsetX/JSColorRGBPanel.SQUARE_SIZE),parseInt(255*(JSColorRGBPanel.SQUARE_SIZE-e.offsetY)/JSColorRGBPanel.SQUARE_SIZE),this.blueSlider.getValue(),!0,"up"!==t))}rectEvent(e,t){this.canDoItRect(t)&&(this.red.isSelected()?this.setColor(parseInt(255*(JSColorRGBPanel.SQUARE_SIZE-e.offsetY)/JSColorRGBPanel.SQUARE_SIZE),this.greenSlider.getValue(),this.blueSlider.getValue(),!0,"up"!==t):this.green.isSelected()?this.setColor(this.redSlider.getValue(),parseInt(255*(JSColorRGBPanel.SQUARE_SIZE-e.offsetY)/JSColorRGBPanel.SQUARE_SIZE),this.blueSlider.getValue(),!0,"up"!==t):this.blue.isSelected()&&this.setColor(this.redSlider.getValue(),this.greenSlider.getValue(),parseInt(255*(JSColorRGBPanel.SQUARE_SIZE-e.offsetY)/JSColorRGBPanel.SQUARE_SIZE),!0,"up"!==t))}setColor(e,t,s,i,n){this.redSlider.setValue(e),this.redSpinner.setValue(e),this.greenSlider.setValue(t),this.greenSpinner.setValue(t),this.blueSlider.setValue(s),this.blueSpinner.setValue(s),this.drawAll(),i&&this.onchange(n)}}class JSAbstractColorSwatchesPanel extends JSPanel{color=null;listeners=[];constructor(e,t,s){super(),this.setLayout(new GridLayout(e,t,1,1));for(let i=0;i<s.length;i+=3)this.addButton(new Color(s[i],s[i+1],s[i+2],255))}addButton(e){let t=new JSButton;t.setBackground(e),t.setTooltip(e.red+", "+e.green+", "+e.blue);let s=[],i=[];s[0]=e.red,s[1]=e.green,s[2]=e.blue,Color.RGBtoHSL(s,i),t.getStyle().borderColor=i[2]>.5?e.darkened(.1).getRGB_HEX():e.lighted(.1).getRGB_HEX(),t.addActionListener(t=>{this.color=e,this.onclick()}),this.add(t,null)}getSelectedColor(){return this.color}addActionListener(e){this.listeners.push(e)}onclick(){let e=new ActionEvent;this.listeners.forEach(t=>{"function"==typeof t?t(e):t.actionPerformed(e)})}}class JSColorMiniSwatchesPanel extends JSAbstractColorSwatchesPanel{constructor(){super(1,13,JSColorMiniSwatchesPanel.rawValues)}static rawValues=[255,255,255,204,204,204,136,136,136,68,68,68,0,0,0,255,0,0,0,255,0,0,0,255,0,255,255,255,0,255,255,255,0,255,175,175,255,102,0]}class JSColorSwatchesPanel extends JSAbstractColorSwatchesPanel{constructor(){super(9,31,JSColorSwatchesPanel.rawValues)}static rawValues=[255,255,255,204,255,255,204,204,255,204,204,255,204,204,255,204,204,255,204,204,255,204,204,255,204,204,255,204,204,255,204,204,255,255,204,255,255,204,204,255,204,204,255,204,204,255,204,204,255,204,204,255,204,204,255,204,204,255,204,204,255,204,204,255,255,204,204,255,204,204,255,204,204,255,204,204,255,204,204,255,204,204,255,204,204,255,204,204,255,204,204,255,204,204,204,204,153,255,255,153,204,255,153,153,255,153,153,255,153,153,255,153,153,255,153,153,255,153,153,255,153,153,255,204,153,255,255,153,255,255,153,204,255,153,153,255,153,153,255,153,153,255,153,153,255,153,153,255,153,153,255,153,153,255,204,153,255,255,153,204,255,153,153,255,153,153,255,153,153,255,153,153,255,153,153,255,153,153,255,153,153,255,153,153,255,204,204,204,204,102,255,255,102,204,255,102,153,255,102,102,255,102,102,255,102,102,255,102,102,255,102,102,255,153,102,255,204,102,255,255,102,255,255,102,204,255,102,153,255,102,102,255,102,102,255,102,102,255,102,102,255,102,102,255,153,102,255,204,102,255,255,102,204,255,102,153,255,102,102,255,102,102,255,102,102,255,102,102,255,102,102,255,102,102,255,153,102,255,204,153,153,153,51,255,255,51,204,255,51,153,255,51,102,255,51,51,255,51,51,255,51,51,255,102,51,255,153,51,255,204,51,255,255,51,255,255,51,204,255,51,153,255,51,102,255,51,51,255,51,51,255,51,51,255,102,51,255,153,51,255,204,51,255,255,51,204,255,51,153,255,51,102,255,51,51,255,51,51,255,51,51,255,51,51,255,102,51,255,153,51,255,204,153,153,153,0,255,255,0,204,255,0,153,255,0,102,255,0,51,255,0,0,255,51,0,255,102,0,255,153,0,255,204,0,255,255,0,255,255,0,204,255,0,153,255,0,102,255,0,51,255,0,0,255,51,0,255,102,0,255,153,0,255,204,0,255,255,0,204,255,0,153,255,0,102,255,0,51,255,0,0,255,0,0,255,51,0,255,102,0,255,153,0,255,204,102,102,102,0,204,204,0,204,204,0,153,204,0,102,204,0,51,204,0,0,204,51,0,204,102,0,204,153,0,204,204,0,204,204,0,204,204,0,204,204,0,153,204,0,102,204,0,51,204,0,0,204,51,0,204,102,0,204,153,0,204,204,0,204,204,0,204,204,0,153,204,0,102,204,0,51,204,0,0,204,0,0,204,51,0,204,102,0,204,153,0,204,204,102,102,102,0,153,153,0,153,153,0,153,153,0,102,153,0,51,153,0,0,153,51,0,153,102,0,153,153,0,153,153,0,153,153,0,153,153,0,153,153,0,153,153,0,102,153,0,51,153,0,0,153,51,0,153,102,0,153,153,0,153,153,0,153,153,0,153,153,0,153,153,0,102,153,0,51,153,0,0,153,0,0,153,51,0,153,102,0,153,153,0,153,153,51,51,51,0,102,102,0,102,102,0,102,102,0,102,102,0,51,102,0,0,102,51,0,102,102,0,102,102,0,102,102,0,102,102,0,102,102,0,102,102,0,102,102,0,102,102,0,51,102,0,0,102,51,0,102,102,0,102,102,0,102,102,0,102,102,0,102,102,0,102,102,0,102,102,0,51,102,0,0,102,0,0,102,51,0,102,102,0,102,102,0,102,102,0,0,0,0,51,51,0,51,51,0,51,51,0,51,51,0,51,51,0,0,51,51,0,51,51,0,51,51,0,51,51,0,51,51,0,51,51,0,51,51,0,51,51,0,51,51,0,51,51,0,0,51,51,0,51,51,0,51,51,0,51,51,0,51,51,0,51,51,0,51,51,0,51,51,0,0,51,0,0,51,51,0,51,51,0,51,51,0,51,51,51,51,51]}class JSColorPanel extends JSPanel{pane=new JSTabbedPane;swatchesPanel=new JSColorSwatchesPanel;hsvPanel=new JSColorHSVPanel;hslPanel=new JSColorHSLPanel;rgbPanel=new JSColorRGBPanel;cmykPanel=new JSColorCMYKPanel;extraTabs=[];opacity=new JSLabel;opacitySlider=new JSSlider;opacitySpinner=new JSSpinner;container=new JSComponent(document.createElement("div"));component=new JSComponent(document.createElement("div"));componentOpacity=new JSComponent(document.createElement("div"));listeners=[];currentTab=null;valueIsAdjusting=!1;opacityVisible=!0;constructor(){super(),this.cssAddClass("jscolorpanel"),this.setLayout(new GridBagLayout),this.addPanel(Translations.JSColorChooser_PALETTE,this.swatchesPanel),this.addPanel("HSV",this.hsvPanel),this.addPanel("HSL",this.hslPanel),this.addPanel("RGB",this.rgbPanel),this.addPanel("CMYK",this.cmykPanel);let e=new GridBagConstraints;e.gridx=0,e.gridy=0,e.gridwidth=2,e.fill=GridBagConstraints.BOTH,this.add(this.pane,e),this.opacity.setText(Translations.JSColorChooser_OPACITY),(e=new GridBagConstraints).gridx=0,e.gridy=1,e.anchor=GridBagConstraints.LINE_START,this.add(this.opacity,e),this.opacitySlider.setMaximum(255),this.opacitySlider.setValue(255),this.opacitySlider.getStyle().minWidth="20rem",this.opacitySlider.addChangeListener(e=>this.sliderToSpinner(this.opacitySlider,this.opacitySpinner)),(e=new GridBagConstraints).gridx=0,e.gridy=2,e.gridwidth=2,e.fill=GridBagConstraints.HORIZONTAL,this.add(this.opacitySlider,e),this.opacitySpinner.setModel(new SpinnerNumberModel(255,0,255,1)),this.opacitySpinner.getStyle().minWidth="3rem",this.opacitySpinner.getChilStyleByQuery("input[type=number]").minWidth="2.5rem",this.opacitySpinner.getChilStyleByQuery("input[type=number]").width="2.5rem",this.opacitySpinner.addChangeListener(e=>this.spinnerToSlider(this.opacitySpinner,this.opacitySlider)),(e=new GridBagConstraints).gridx=1,e.gridy=1,e.anchor=GridBagConstraints.LINE_END,this.add(this.opacitySpinner,e);let t=new JSLabel;t.setText(Translations.JSColorChooser_PREVIEW),(e=new GridBagConstraints).gridx=0,e.gridy=3,e.anchor=GridBagConstraints.LINE_START,e.insets=new Insets(5,0,2,0),this.add(t,e);let s=this.getSelectedColor();this.component.cssAddClass("jscolorpanel-preview-opaque"),this.component.getStyle().backgroundColor=s.getRGB_String(),this.componentOpacity.cssAddClass("jscolorpanel-preview-transparent"),this.componentOpacity.getStyle().backgroundColor=s.getRGBA_String(),this.container.cssAddClass("jscolorpanel-preview"),this.container.appendChild(this.component),this.container.appendChild(this.componentOpacity),this.setContainerBorder(s),(e=new GridBagConstraints).gridx=0,e.gridy=4,e.gridwidth=2,e.fill=GridBagConstraints.HORIZONTAL,this.add(this.container,e),this.swatchesPanel.addActionListener(e=>{let t=this.swatchesPanel.getSelectedColor();this.hsvPanel.setSelectedColor(t),this.hslPanel.setSelectedColor(t),this.rgbPanel.setSelectedColor(t),this.cmykPanel.setSelectedColor(t),this.extraTabs.forEach(e=>e.setSelectedColor(t)),this.onchange(!1)}),this.addChangeListenerToPanel(this.hsvPanel,this.hslPanel,this.rgbPanel,this.cmykPanel,"hsv"),this.addChangeListenerToPanel(this.hslPanel,this.hsvPanel,this.rgbPanel,this.cmykPanel,"hsl"),this.addChangeListenerToPanel(this.rgbPanel,this.hsvPanel,this.hslPanel,this.cmykPanel,"rgb"),this.addChangeListenerToPanel(this.cmykPanel,this.hsvPanel,this.hslPanel,this.rgbPanel,"cmyk")}addExtraTab(e,t){this.extraTabs.push(t),this.addPanel(e,t),this.addChangeListenerToExtraPanel(this.extraTabs.length-1)}addPanel(e,t){let s=new JSPanel;s.add(t,null),this.pane.addTab(e,s)}addChangeListenerToPanel(e,t,s,i,n){e.addChangeListener(r=>{if(!e.getValueIsAdjusting()){let a=e.getSelectedColor();t.setSelectedColor(a),s.setSelectedColor(a),i.setSelectedColor(a),this.extraTabs.forEach(e=>e.setSelectedColor(a))}this.currentTab=n,this.onchange(e.getValueIsAdjusting())})}addChangeListenerToExtraPanel(e){let t=this.extraTabs[e];t.addChangeListener(s=>{if(!t.getValueIsAdjusting()){let i=t.getSelectedColor();this.hsvPanel.setSelectedColor(i),this.hslPanel.setSelectedColor(i),this.rgbPanel.setSelectedColor(i),this.cmykPanel.setSelectedColor(i),this.extraTabs.filter(e=>e!==t).forEach(e=>e.setSelectedColor(i))}this.currentTab="extratab"+e,this.onchange(t.getValueIsAdjusting())})}sliderToSpinner(e,t){t.setValue(e.getValue()),this.onchange(e.getValueIsAdjusting())}spinnerToSlider(e,t){t.setValue(e.getValue()),this.onchange(e.getValueIsAdjusting())}getSelectedColor(){let e=null;for(let t=0;t<this.extraTabs.length;t++)this.currentTab==="extratab"+t&&(e=this.extraTabs[t].getSelectedColor());if(!e)switch(this.currentTab){case"hsv":e=this.hsvPanel.getSelectedColor();break;case"hsl":e=this.hslPanel.getSelectedColor();break;case"rgb":default:e=this.rgbPanel.getSelectedColor();break;case"cmyk":e=this.cmykPanel.getSelectedColor()}return new Color(e.red,e.green,e.blue,this.opacityVisible?this.opacitySlider.getValue():255)}setSelectedColor(e){this.hsvPanel.setSelectedColor(e),this.hslPanel.setSelectedColor(e),this.rgbPanel.setSelectedColor(e),this.cmykPanel.setSelectedColor(e),this.extraTabs.forEach(t=>t.setSelectedColor(e)),this.opacityVisible&&(this.opacitySlider.setValue(e.alpha),this.opacitySpinner.setValue(e.alpha));let t=this.getSelectedColor();this.component.getStyle().backgroundColor=t.getRGB_String(),this.componentOpacity.getStyle().backgroundColor=t.getRGBA_String(),this.setContainerBorder(t)}setOpacityVisible(e){this.opacityVisible=e,this.opacityVisible?(this.opacity.getStyle().display="block",this.opacitySpinner.getStyle().display="grid",this.opacitySlider.getStyle().display="flex"):(this.opacity.getStyle().display="none",this.opacitySpinner.getStyle().display="none",this.opacitySlider.getStyle().display="none")}getValueIsAdjusting(){return this.valueIsAdjusting}addChangeListener(e){this.listeners.push(e)}onchange(e){let t=this.getSelectedColor();this.component.getStyle().backgroundColor=t.getRGB_String(),this.componentOpacity.getStyle().backgroundColor=t.getRGBA_String(),this.setContainerBorder(t),this.valueIsAdjusting=e;let s=new ChangeEvent;this.listeners.forEach(e=>{"function"==typeof e?e(s):e.stateChanged(s)})}setContainerBorder(e){let t=[],s=[];t[0]=e.red,t[1]=e.green,t[2]=e.blue,Color.RGBtoHSL(t,s),this.container.getStyle().border="1px solid "+(s[2]>.5?e.darkened(.1).getRGB_HEX():e.lighted(.1).getRGB_HEX())}}class JSTabbedPane extends JSPanel{static TOP=1;static LEFT=2;static BOTTOM=3;static RIGHT=4;static START=0;static CENTER=1;static END=2;tabs=null;tabsN=new JSComponent(document.createElement("nav"));tabsS=new JSComponent(document.createElement("nav"));tabsE=new JSComponent(document.createElement("nav"));tabsW=new JSComponent(document.createElement("nav"));content=new JSPanel;contentLayout=new CardLayout(0,0);tabsGroup=new ButtonGroup;tabPlacement=JSTabbedPane.TOP;constructor(){super(),this.cssAddClass("jstabbedpane"),this.setLayout(new BorderLayout(0,0)),this.createTab(this.tabsN),this.add(this.tabsN,BorderLayout.NORTH),this.createTab(this.tabsS),this.add(this.tabsS,BorderLayout.SOUTH),this.createTab(this.tabsE),this.add(this.tabsE,BorderLayout.EAST),this.createTab(this.tabsW),this.add(this.tabsW,BorderLayout.WEST),this.tabs=this.tabsN,this.content.setLayout(this.contentLayout),this.add(this.content,BorderLayout.CENTER)}createTab(e){let t=document.createElement("ul");t.appendChild(this.createLI()),t.appendChild(this.createLI()),e.appendNodeChild(t)}createLI(){let e=document.createElement("li");return e.style.flexGrow="1",e.style.display="none",e}setTabPlacement(e){switch(this.tabPlacement=e,this.tabPlacement){case JSTabbedPane.TOP:this.tabs=this.tabsN;break;case JSTabbedPane.BOTTOM:this.tabs=this.tabsS;break;case JSTabbedPane.LEFT:this.tabs=this.tabsW;break;case JSTabbedPane.RIGHT:this.tabs=this.tabsE}}getTabPlacement(){return this.tabPlacement}setAlign(e){switch(this.tabs.getChilStyleByQuery("nav ul li:first-child").display="none",this.tabs.getChilStyleByQuery("nav ul li:last-child").display="none",e){case JSTabbedPane.START:break;case JSTabbedPane.CENTER:this.tabs.getChilStyleByQuery("nav ul li:first-child").removeProperty("display"),this.tabs.getChilStyleByQuery("nav ul li:last-child").removeProperty("display");break;case JSTabbedPane.END:this.tabs.getChilStyleByQuery("nav ul li:first-child").removeProperty("display")}}addTab(e,t){let s=new JSRadioButton;s.setText(e),s.setSelected(0===this.tabsGroup.getButtonCount()),s.addActionListener(t=>this.contentLayout.show(this.content,e)),this.tabs.insertNodeBeforeInTree("nav ul",document.createElement("li"),"nav ul li:last-child"),this.tabs.appendChildInTree("nav ul li:nth-last-child(2)",s),this.tabsGroup.add(s),this.content.add(t,e)}}class JSProgressBar extends JSComponent{static HORIZONTAL=0;static VERTICAL=1;label=null;progress=null;min=0;max=100;value=0;orientation=JSProgressBar.HORIZONTAL;indeterminate=!1;stringPainted=!1;string="";constructor(){super(document.createElement("div")),this.cssAddClass("jsprogressbar"),this.cssAddClass("jsprogressbar-horizontal"),this.label=document.createElement("label"),this.label.textContent="0%",this.label.style.minWidth="0%",this.appendNodeChild(this.label),this.progress=document.createElement("div"),this.progress.style.height="1.7rem",this.appendNodeChild(this.progress)}setMaximum(e){this.max=e,this.setProgress()}setMinimum(e){this.min=e,this.setProgress()}setValue(e){this.value=e,this.setProgress()}setIndeterminate(e){this.indeterminate=e,this.setProgress()}setStringPainted(e){this.stringPainted=e,this.setProgress()}setString(e){this.string=e,this.setProgress()}setOrientation(e){switch(this.orientation=e,this.cssRemoveClass("jsprogressbar-horizontal"),this.cssRemoveClass("jsprogressbar-vertical"),this.label.style.removeProperty("min-width"),this.label.style.removeProperty("min-height"),this.progress.style.removeProperty("width"),this.progress.style.removeProperty("height"),e){case JSProgressBar.HORIZONTAL:this.cssAddClass("jsprogressbar-horizontal"),this.progress.style.height="1.7rem";break;case JSProgressBar.VERTICAL:this.cssAddClass("jsprogressbar-vertical"),this.progress.style.width="1.7rem"}this.setProgress()}setProgress(){let e=new Number(100*(this.value-this.min)/(this.max-this.min));switch(this.orientation){case JSProgressBar.HORIZONTAL:this.label.style.minWidth=(this.stringPainted&&this.string?100:e)+"%";break;case JSProgressBar.VERTICAL:this.label.style.minHeight=(this.stringPainted&&this.string?100:e)+"%"}if(this.label.textContent=this.string?this.string:e.toFixed()+"%",this.label.style.visibility=this.indeterminate||!this.stringPainted?"hidden":"visible",this.stringPainted&&this.string?(this.label.style.background="linear-gradient(to right, var(--main-action-color) "+e+"%, var(--main-color) "+e+"%)",this.label.style.setProperty("background-clip","text"),this.label.style.setProperty("-webkit-text-fill-color","transparent")):(this.label.style.removeProperty("background"),this.label.style.removeProperty("background-clip"),this.label.style.removeProperty("-webkit-text-fill-color")),this.indeterminate)this.cssAddClass("jsprogressbar-indeterminate"),this.getStyle().animationName="jsprogressbar";else switch(this.cssRemoveClass("jsprogressbar-indeterminate"),this.getStyle().animationName="none",this.orientation){case JSProgressBar.HORIZONTAL:this.getStyle().background="linear-gradient(to right, var(--main-action-bgcolor) "+e+"%, var(--main-bgcolor) "+e+"%)",this.progress.style.width=e+"%";break;case JSProgressBar.VERTICAL:this.getStyle().background="linear-gradient(to bottom, var(--main-action-bgcolor) "+e+"%, var(--main-bgcolor) "+e+"%)",this.progress.style.height=e+"%"}}}class JSSlider extends JSComponent{static HORIZONTAL=0;static VERTICAL=1;modelAndRenderer=null;orientation=0;majorTickSpacing=0;paintTicks=!1;paintLabels=!1;valueIsAdjusting=!1;listeners=[];slider=null;dataList=null;dataListID="DataList_"+new Date().getTime()+"_"+parseInt(1e3*Math.random());constructor(){super(document.createElement("div")),this.cssAddClass("jsslider"),this.cssAddClass("jsslider-horizontal"),this.slider=document.createElement("input"),this.slider.setAttribute("type","range"),this.slider.setAttribute("list",this.dataListID),this.slider.addEventListener("input",e=>this.onchange(!0)),this.slider.addEventListener("change",e=>this.onchange(!1)),this.appendNodeChild(this.slider),this.dataList=document.createElement("datalist"),this.dataList.id=this.dataListID,this.appendNodeChild(this.dataList);let e=document.createElement("div");e.style.display="none",this.appendNodeChild(e)}addChangeListener(e){this.listeners.push(e)}onchange(e){this.valueIsAdjusting=e;let t=new ChangeEvent;this.listeners.forEach(e=>{"function"==typeof e?e(t):e.stateChanged(t)})}getValueIsAdjusting(){return this.valueIsAdjusting}setMaximum(e){this.slider.setAttribute("max",""+e),this.setDatalist()}setMinimum(e){this.slider.setAttribute("min",""+e),this.setDatalist()}setOrientation(e){switch(this.orientation=e,this.cssRemoveClass("jsslider-horizontal"),this.cssRemoveClass("jsslider-vertical"),e){case JSSlider.HORIZONTAL:this.cssAddClass("jsslider-horizontal");break;case JSSlider.VERTICAL:this.cssAddClass("jsslider-vertical")}}getOrientation(){return this.orientation}setInverted(e){e?this.cssAddClass("jsslider-inverted"):this.cssRemoveClass("jsslider-inverted")}setPaintTrack(e){e?this.slider.classList.remove("no-paint-track"):this.slider.classList.add("no-paint-track")}setValue(e){this.slider.value=""+e}getValue(){return this.slider.valueAsNumber}setEnabled(e){super.setEnabled(e),e?this.slider.removeAttribute("disabled"):this.slider.setAttribute("disabled","disabled")}setMajorTickSpacing(e){this.majorTickSpacing=e,this.setDatalist()}setPaintTicks(e){this.paintTicks=e,this.setDatalist()}setPaintLabels(e){this.paintLabels=e,this.setDatalist()}setDatalist(){if(!this.modelAndRenderer&&(this.dataList.textContent="",this.dataList.style.display="none",this.paintTicks&&this.majorTickSpacing)){this.paintLabels&&(this.dataList.style.display="flex");for(let e=parseInt(this.slider.getAttribute("min"));e<=parseInt(this.slider.getAttribute("max"));e+=this.majorTickSpacing){let t=document.createElement("option");switch(t.setAttribute("value",""+e),t.setAttribute("label",""+e),this.orientation){case JSSlider.HORIZONTAL:this.dataList.appendChild(t);break;case JSSlider.VERTICAL:this.dataList.prepend(t)}}}}setModelAndRenderer(e){this.modelAndRenderer=e,this.modelAndRenderer.setSlider(this)}getModelAndRenderer(){return this.modelAndRenderer}}class JSSpinner extends JSComponent{input=document.createElement("input");up=document.createElement("button");down=document.createElement("button");run=!1;rand=0;valueIsAdjusting=!1;listeners=[];constructor(){super(document.createElement("div")),this.cssAddClass("jsspinner"),this.input.setAttribute("type","number"),this.input.setAttribute("value","0"),this.input.style.setProperty("grid-area","num"),this.input.addEventListener("input",e=>this.onchange(!0)),this.input.addEventListener("change",e=>this.onchange(!1)),this.appendNodeChild(this.input),this.up.textContent="▲",this.up.style.setProperty("grid-area","up"),this.up.tabIndex=-1,this.up.addEventListener("mousedown",e=>this.spin(!0)),this.up.addEventListener("mouseup",e=>this.run=!1),this.appendNodeChild(this.up),this.down.textContent="▼",this.down.style.setProperty("grid-area","down"),this.down.tabIndex=-1,this.down.addEventListener("mousedown",e=>this.spin(!1)),this.down.addEventListener("mouseup",e=>this.run=!1),this.appendNodeChild(this.down)}spin(e){!this.run&&(e?this.input.stepUp():this.input.stepDown(),this.run=!0,this.spinAgain(e,250))}spinAgain(e,t){this.rand=Math.random();let s=this.rand;setTimeout(()=>{this.run&&s===this.rand?e?(this.input.stepUp(),this.onchange(!0),this.spinAgain(e,25)):(this.input.stepDown(),this.onchange(!0),this.spinAgain(e,25)):this.onchange(!1)},t)}setModel(e){e.setJSSpinner(this)}addChangeListener(e){this.listeners.push(e)}onchange(e){this.valueIsAdjusting=e;let t=new ChangeEvent;this.listeners.forEach(e=>{"function"==typeof e?e(t):e.stateChanged(t)})}setValue(e){this.input.valueAsNumber=e}getValue(){return this.input.valueAsNumber}getValueIsAdjusting(){return this.valueIsAdjusting}setEnabled(e){super.setEnabled(e),e?(this.input.removeAttribute("disabled"),this.up.removeAttribute("disabled"),this.down.removeAttribute("disabled")):(this.input.setAttribute("disabled","disabled"),this.up.setAttribute("disabled","disabled"),this.down.setAttribute("disabled","disabled"))}}class JSTextField extends JSComponent{listeners=[];constructor(){super(document.createElement("input")),this.cssAddClass("jstextfield"),this.setAttribute("type","text"),this.addEventListener("input",e=>this.onclick())}setText(e){this.setProperty("value",e)}getText(){return this.getProperty("value")}setEditable(e){e?this.removeAttribute("readonly"):this.setAttribute("readonly","readonly")}addActionListener(e){this.listeners.push(e)}onclick(){let e=new ActionEvent;return this.listeners.forEach(t=>{"function"==typeof t?t(e):t.actionPerformed(e)}),null}}class JSFileChooser{static SINGLE_SELECTION=0;static MULTIPLE_SELECTION=1;static FOLDER_SELECTION=2;static input=null;constructor(){}static showOpenDialog(e,t,s,i){switch(document.querySelectorAll("input[type=file]").forEach(e=>e.parentElement.removeChild(e)),JSFileChooser.input=document.createElement("input"),JSFileChooser.input.setAttribute("type","file"),JSFileChooser.input.setAttribute("accept",e),t){case JSFileChooser.SINGLE_SELECTION:break;case JSFileChooser.MULTIPLE_SELECTION:JSFileChooser.input.setAttribute("multiple","multiple");break;case JSFileChooser.FOLDER_SELECTION:JSFileChooser.input.setAttribute("webkitdirectory","webkitdirectory")}JSFileChooser.input.style.display="none",JSFileChooser.input.onchange=t=>JSFileChooser.onchange(JSFileChooser.input.files,e,s,i),document.body.appendChild(JSFileChooser.input);let n=document.createEvent("MouseEvents");n.initEvent("click",!1,!1),JSFileChooser.input.dispatchEvent(n)}static onchange(e,t,s,i){return e=JSFileChooser.purgeFiles(e,t,s),document.body.removeChild(JSFileChooser.input),i&&i(e),null}static purgeFiles(e,t,s){let i=[];for(let n=0;n<e.length;n++){let r=s<=0||e[n].size/1048576<=s,a=new String(t),l=new String(e[n].name),o=0===a.length||-1!==a.indexOf("."+l.split(".").pop().toLowerCase());r&&o&&i.push(e[n])}return i}}class JSOptionPane{static DEFAULT_OPTION=-1;static YES_NO_OPTION=0;static YES_NO_CANCEL_OPTION=1;static OK_CANCEL_OPTION=2;static YES_OPTION=0;static NO_OPTION=1;static CANCEL_OPTION=2;static OK_OPTION=0;static CLOSED_OPTION=-1;static ERROR_MESSAGE=0;static INFORMATION_MESSAGE=1;static WARNING_MESSAGE=2;static QUESTION_MESSAGE=3;static PLAIN_MESSAGE=-1;static RESPONSE=JSOptionPane.CLOSED_OPTION;constructor(){}static showMessageDialog(e,t,s,i){let n=JSOptionPane.createDialog(e,t);JSOptionPane.addIcon(s,n),JSOptionPane.addButtons(n,"OK",i?e=>i():null),n.setVisible(!0)}static showConfirmDialog(e,t,s,i,n){let r=JSOptionPane.createDialog(e,t);switch(JSOptionPane.addIcon(i,r),s){case JSOptionPane.DEFAULT_OPTION:break;case JSOptionPane.OK_CANCEL_OPTION:JSOptionPane.addButtons(r,"OK_CANCEL",n);break;case JSOptionPane.YES_NO_OPTION:JSOptionPane.addButtons(r,"YES_NO",n);break;case JSOptionPane.YES_NO_CANCEL_OPTION:JSOptionPane.addButtons(r,"YES_NO_CANCEL",n)}r.setVisible(!0)}static showInputDialog(e,t,s,i,n){let r=JSOptionPane.createDialog(e,t);JSOptionPane.addButtons(r,"OK_CANCEL",n),JSOptionPane.setOkEnabled(r,i),s(e=>JSOptionPane.setOkEnabled(r,i)),r.setVisible(!0)}static setOkEnabled(e,t){t()?e.removeChildAttributeByQuery(".jsoptionpane-option-"+JSOptionPane.OK_OPTION,"disabled"):e.setChildAttributeByQuery(".jsoptionpane-option-"+JSOptionPane.OK_OPTION,"disabled","disabled")}static createDialog(e,t){let s=new JSDialog;if(s.getContentPane().setLayout(new BorderLayout(20,20)),s.cssAddClass("jsoptionpane"),s.setTitle(t),e instanceof JSComponent)s.getContentPane().add(e,BorderLayout.CENTER);else{let i=new JSLabel;i.cssAddClass("jsoptionpane-label"),i.setText(e.toString()),s.getContentPane().add(i,BorderLayout.CENTER)}return s}static addIcon(e,t){let s=new JSLabel;switch(e){case JSOptionPane.ERROR_MESSAGE:t.cssAddClass("jsoptionpane-error"),s.setText("!"),t.getContentPane().add(s,BorderLayout.WEST);break;case JSOptionPane.INFORMATION_MESSAGE:t.cssAddClass("jsoptionpane-information"),s.setText("i"),t.getContentPane().add(s,BorderLayout.WEST);break;case JSOptionPane.WARNING_MESSAGE:t.cssAddClass("jsoptionpane-warning"),s.setText("!"),t.getContentPane().add(s,BorderLayout.WEST);break;case JSOptionPane.QUESTION_MESSAGE:t.cssAddClass("jsoptionpane-question"),s.setText("?"),t.getContentPane().add(s,BorderLayout.WEST);case JSOptionPane.PLAIN_MESSAGE:}}static addButtons(e,t,s){let i=new JSPanel;switch(t){case"OK":JSOptionPane.addButton(e,i,Translations.JSOptionPane_OK,JSOptionPane.DEFAULT_OPTION);break;case"OK_CANCEL":JSOptionPane.addButton(e,i,Translations.JSOptionPane_OK,JSOptionPane.OK_OPTION),JSOptionPane.addButton(e,i,Translations.JSOptionPane_CANCEL,JSOptionPane.CANCEL_OPTION);break;case"YES_NO":JSOptionPane.addButton(e,i,Translations.JSOptionPane_YES,JSOptionPane.YES_OPTION),JSOptionPane.addButton(e,i,Translations.JSOptionPane_NO,JSOptionPane.NO_OPTION);break;case"YES_NO_CANCEL":JSOptionPane.addButton(e,i,Translations.JSOptionPane_YES,JSOptionPane.YES_OPTION),JSOptionPane.addButton(e,i,Translations.JSOptionPane_NO,JSOptionPane.NO_OPTION),JSOptionPane.addButton(e,i,Translations.JSOptionPane_CANCEL,JSOptionPane.CANCEL_OPTION)}e.getContentPane().add(i,BorderLayout.SOUTH),JSOptionPane.RESPONSE=JSOptionPane.CLOSED_OPTION,e.addWindowClosedListener(t=>{e.dispose(),s&&s(JSOptionPane.RESPONSE)})}static addButton(e,t,s,i){let n=new JSButton;n.setText(s),n.cssAddClass("jsoptionpane-option-"+i),n.addActionListener(t=>{JSOptionPane.RESPONSE=i,e.setVisible(!1)}),t.add(n,null)}}class AbstractComboBoxModelAndRenderer{combobox=null;selected=null;elements=[];setComboBox(e){this.combobox=e,this.combobox.appendNodeChildInTree("summary",this.render(null)),this.elements.forEach(e=>this.addOption(e)),this.combobox.clearChildContentByQuery("summary"),this.combobox.appendNodeChildInTree("summary",this.render(this.selected))}getSelectedElement(){return this.selected}setSelectedElement(e){this.selected=null,this.elements.forEach(t=>{try{this.selected=t.compareTo(e)?this.selected:t}catch(s){this.selected=t===e?t:this.selected}}),this.combobox&&(this.combobox.clearChildContentByQuery("summary"),this.combobox.appendNodeChildInTree("summary",this.render(this.selected)))}addElement(e){this.elements.push(e),this.combobox&&this.addOption(e)}addOption(e){let t=document.createElement("li");t.appendChild(this.render(e)),t.addEventListener("click",t=>{this.selected=e,this.combobox.clearChildContentByQuery("summary"),this.combobox.appendNodeChildInTree("summary",this.render(e)),this.combobox.removeAttribute("open"),this.combobox.invoke("querySelector('summary').focus()"),this.combobox.onclick()}),this.combobox.appendNodeChildInTree("ul",t)}render(e){}}class DefaultComboBoxModelAndRenderer extends AbstractComboBoxModelAndRenderer{render(e){let t=document.createElement("label");return t.textContent=e?e.toString():"",t}}class AbstractSliderModelAndRenderer{slider=null;renderByDataList=!1;elements=[];constructor(e){this.renderByDataList=e}getElementAt(e){return this.elements[e]}setSlider(e){this.slider=e,this.setDatalist()}addElement(e){this.elements.push(e),this.slider&&this.setDatalist()}setDatalist(){this.slider.setValue(0),this.slider.setMinimum(0),this.slider.setMaximum(this.elements.length-1),this.slider.clearChildContentByQuery("datalist"),this.slider.getChilStyleByQuery("datalist").display=this.renderByDataList?"flex":"none",this.slider.clearChildContentByQuery("div"),this.slider.getChilStyleByQuery("div").display=this.renderByDataList?"none":"flex",this.elements.forEach((e,t,s)=>{let i=document.createElement("option");i.setAttribute("value",""+t);let n=this.render(e,this.slider);if(this.renderByDataList)i.setAttribute("label",n);else switch(this.slider.getOrientation()){case JSSlider.HORIZONTAL:this.slider.appendNodeChildInTree("div",n);break;case JSSlider.VERTICAL:this.slider.prependNodeChildInTree("div",n)}switch(this.slider.getOrientation()){case JSSlider.HORIZONTAL:this.slider.appendNodeChildInTree("datalist",i);break;case JSSlider.VERTICAL:this.slider.prependNodeChildInTree("datalist",i)}})}render(e,t){}}class DefaultSliderModelAndRenderer extends AbstractSliderModelAndRenderer{constructor(){super(!0)}render(e,t){return e.toString()}}class HTMLImageSliderModelAndRenderer extends AbstractSliderModelAndRenderer{constructor(){super(!1)}render(e,t){let s=e.produce();return s.addEventListener("load",e=>{switch(t.getOrientation()){case JSSlider.HORIZONTAL:t.getChilStyleByQuery("input").marginLeft=s.width/2+"px",t.getChilStyleByQuery("input").marginRight=s.width/2+"px";break;case JSSlider.VERTICAL:t.getChilStyleByQuery("input").marginTop=s.height/2+"px",t.getChilStyleByQuery("input").marginBottom=s.height/2+"px"}}),s}}class SpinnerNumberModel{value=0;minimum=0;maximum=0;stepSize=0;constructor(e,t,s,i){this.value=e,this.minimum=t,this.maximum=s,this.stepSize=i}setJSSpinner(e){e.setChildAttributeByQuery("input","value",""+this.value),e.setChildAttributeByQuery("input","max",""+this.maximum),e.setChildAttributeByQuery("input","min",""+this.minimum),e.setChildAttributeByQuery("input","step",""+this.stepSize)}}class SwingJS{static CURRENT=new SwingJS;_darkMode=!1;_fontFamily=null;_fontSize=0;_mainColor=null;_mainBGColor=null;_mainActionColor=null;_mainActionBGColor=null;_roundness=null;static convert(e){return e}static instance(){return SwingJS.CURRENT}darkMode(e){return this._darkMode=e,this}fontFamily(e){return this._fontFamily=e,this}fontSize(e){return this._fontSize=e,this}mainColor(e){return this._mainColor=e,this}mainBGColor(e){return this._mainBGColor=e,this}mainActionColor(e){return this._mainActionColor=e,this}mainActionBGColor(e){return this._mainActionBGColor=e,this}roundness(e){return this._roundness=e+"rem",this}build(){this._darkMode&&document.documentElement.classList.add("dark-mode");let e=document.createElement("style");e.textContent=":root {\n"+(this._fontFamily?"  --font-family: "+this._fontFamily+" !important;\n":"")+(this._fontSize?"  --font-size: "+this._fontSize+"px !important;\n":"")+(this._mainColor?"  --main-color: "+this._mainColor+" !important;\n":"")+(this._mainBGColor?"  --main-bgcolor: "+this._mainBGColor+" !important;\n":"")+(this._mainActionColor?"  --main-action-color: "+this._mainActionColor+" !important;\n":"")+(this._mainActionBGColor?"  --main-action-bgcolor: "+this._mainActionBGColor+" !important;\n":"")+(this._roundness?"  --roundness: "+this._roundness+" !important;\n":"")+"}",document.head.appendChild(e)}constructor(){}}class AbstractHTMLImageProducer{value=null;constructor(e){this.value=e}produce(){}getValue(){return this.value}}class DefaultHTMLImageProducer extends AbstractHTMLImageProducer{src=null;constructor(e,t){super(e),this.src=t}produce(){let e=document.createElement("img");return e.src=this.src,e}}class Translations{static JSOptionPane_OK="";static JSOptionPane_YES="";static JSOptionPane_NO="";static JSOptionPane_CANCEL="";static JSColorChooser_HUE="";static JSColorChooser_SATURATION="";static JSColorChooser_VALUE="";static JSColorChooser_LIGHTNESS="";static JSColorChooser_RED="";static JSColorChooser_GREEN="";static JSColorChooser_BLUE="";static JSColorChooser_CYAN="";static JSColorChooser_MAGENTA="";static JSColorChooser_YELLOW="";static JSColorChooser_BLACK="";static JSColorChooser_OPACITY="";static JSColorChooser_PALETTE="";static JSColorChooser_PREVIEW="";static{switch(navigator.language.substring(0,2)){case"en":default:Translations.setEnglish();break;case"it":Translations.setItalian()}}constructor(){}static setEnglish(){Translations.JSOptionPane_OK="OK",Translations.JSOptionPane_YES="Yes",Translations.JSOptionPane_NO="No",Translations.JSOptionPane_CANCEL="Cancel",Translations.JSColorChooser_HUE="Hue",Translations.JSColorChooser_SATURATION="Saturation",Translations.JSColorChooser_VALUE="Value",Translations.JSColorChooser_LIGHTNESS="Lightness",Translations.JSColorChooser_RED="Red",Translations.JSColorChooser_GREEN="Green",Translations.JSColorChooser_BLUE="Blue",Translations.JSColorChooser_CYAN="Cyan",Translations.JSColorChooser_MAGENTA="Magenta",Translations.JSColorChooser_YELLOW="Yellow",Translations.JSColorChooser_BLACK="Black",Translations.JSColorChooser_OPACITY="Opacity",Translations.JSColorChooser_PALETTE="Palette",Translations.JSColorChooser_PREVIEW="Preview"}static setItalian(){Translations.JSOptionPane_OK="OK",Translations.JSOptionPane_YES="Si",Translations.JSOptionPane_NO="No",Translations.JSOptionPane_CANCEL="Annulla",Translations.JSColorChooser_HUE="Tonalit\xe0",Translations.JSColorChooser_SATURATION="Saturazione",Translations.JSColorChooser_VALUE="Valore",Translations.JSColorChooser_LIGHTNESS="Luminosit\xe0",Translations.JSColorChooser_RED="Rosso",Translations.JSColorChooser_GREEN="Verde",Translations.JSColorChooser_BLUE="Blu",Translations.JSColorChooser_CYAN="Ciano",Translations.JSColorChooser_MAGENTA="Magenta",Translations.JSColorChooser_YELLOW="Giallo",Translations.JSColorChooser_BLACK="Nero",Translations.JSColorChooser_OPACITY="Opacit\xe0",Translations.JSColorChooser_PALETTE="Tavolozza",Translations.JSColorChooser_PREVIEW="Anteprima"}}